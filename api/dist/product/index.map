{"version":3,"sources":["0","product/node_modules/stripe/lib/ResourceNamespace.js","product/node_modules/safe-buffer/index.js","product/node_modules/qs/lib/utils.js","product/node_modules/qs/lib/formats.js","product/node_modules/qs/lib/stringify.js","product/node_modules/qs/lib/parse.js","product/node_modules/qs/lib/index.js","product/node_modules/lodash.isplainobject/index.js","product/node_modules/stripe/lib/utils.js","product/node_modules/stripe/lib/Error.js","product/node_modules/stripe/lib/makeRequest.js","product/node_modules/stripe/lib/autoPagination.js","product/node_modules/stripe/lib/StripeMethod.js","product/node_modules/stripe/lib/StripeMethod.basic.js","product/node_modules/stripe/lib/StripeResource.js","product/node_modules/stripe/lib/resources/Accounts.js","product/node_modules/stripe/lib/resources/AccountLinks.js","product/node_modules/stripe/lib/resources/ApplePayDomains.js","product/node_modules/stripe/lib/resources/ApplicationFees.js","product/node_modules/stripe/lib/resources/Balance.js","product/node_modules/stripe/lib/resources/BitcoinReceivers.js","product/node_modules/stripe/lib/resources/Charges.js","product/node_modules/stripe/lib/resources/CheckoutSessions.js","product/node_modules/stripe/lib/resources/CountrySpecs.js","product/node_modules/stripe/lib/resources/Coupons.js","product/node_modules/stripe/lib/resources/Customers.js","product/node_modules/stripe/lib/resources/Disputes.js","product/node_modules/stripe/lib/resources/EphemeralKeys.js","product/node_modules/stripe/lib/resources/Events.js","product/node_modules/stripe/lib/resources/ExchangeRates.js","product/node_modules/stripe/lib/MultipartDataGenerator.js","product/node_modules/stripe/lib/resources/Files.js","product/node_modules/stripe/lib/resources/FileLinks.js","product/node_modules/stripe/lib/resources/InvoiceItems.js","product/node_modules/stripe/lib/resources/Invoices.js","product/node_modules/stripe/lib/resources/IssuerFraudRecords.js","product/node_modules/stripe/lib/resources/LoginLinks.js","product/node_modules/stripe/lib/resources/OrderReturns.js","product/node_modules/stripe/lib/resources/Orders.js","product/node_modules/stripe/lib/resources/PaymentIntents.js","product/node_modules/stripe/lib/resources/Payouts.js","product/node_modules/stripe/lib/resources/Plans.js","product/node_modules/stripe/lib/resources/Products.js","product/node_modules/stripe/lib/resources/RecipientCards.js","product/node_modules/stripe/lib/resources/Recipients.js","product/node_modules/stripe/lib/resources/Refunds.js","product/node_modules/stripe/lib/resources/Reviews.js","product/node_modules/stripe/lib/resources/SKUs.js","product/node_modules/stripe/lib/resources/Sources.js","product/node_modules/stripe/lib/resources/SubscriptionItems.js","product/node_modules/stripe/lib/resources/Subscriptions.js","product/node_modules/stripe/lib/resources/ThreeDSecure.js","product/node_modules/stripe/lib/resources/Tokens.js","product/node_modules/stripe/lib/resources/Topups.js","product/node_modules/stripe/lib/resources/Transfers.js","product/node_modules/stripe/lib/resources/UsageRecords.js","product/node_modules/stripe/lib/resources/UsageRecordSummaries.js","product/node_modules/stripe/lib/resources/WebhookEndpoints.js","product/node_modules/stripe/lib/resources/ApplicationFeeRefunds.js","product/node_modules/stripe/lib/resources/ChargeRefunds.js","product/node_modules/stripe/lib/resources/CustomerCards.js","product/node_modules/stripe/lib/resources/CustomerSubscriptions.js","product/node_modules/stripe/lib/resources/Persons.js","product/node_modules/stripe/lib/resources/TransferReversals.js","product/node_modules/stripe/lib/resources/Issuing/Authorizations.js","product/node_modules/stripe/lib/resources/Issuing/Cardholders.js","product/node_modules/stripe/lib/resources/Issuing/Cards.js","product/node_modules/stripe/lib/resources/Issuing/Disputes.js","product/node_modules/stripe/lib/resources/Issuing/Transactions.js","product/node_modules/stripe/lib/resources/Radar/ValueLists.js","product/node_modules/stripe/lib/resources/Radar/ValueListItems.js","product/node_modules/stripe/lib/resources/Reporting/ReportRuns.js","product/node_modules/stripe/lib/resources/Reporting/ReportTypes.js","product/node_modules/stripe/lib/resources/Sigma/ScheduledQueryRuns.js","product/node_modules/stripe/lib/resources/Terminal/ConnectionTokens.js","product/node_modules/stripe/lib/resources/Terminal/Locations.js","product/node_modules/stripe/lib/resources/Terminal/Readers.js","product/node_modules/stripe/lib/Webhooks.js","product/node_modules/stripe/lib/stripe.js","product/index.ts"],"names":["module","exports","name","version","description","keywords","homepage","author","contributors","repository","type","url","bugs:","engines","node","main","devDependencies","chai","chai-as-promised","coveralls","eslint","eslint-plugin-chai-friendly","mocha","nyc","dependencies","lodash.isplainobject","qs","safe-buffer","license","scripts","clean","test","lint","report","ResourceNamespace","stripe","resources","camelCaseName","toLowerCase","substring","resource","namespace","has","Object","prototype","hasOwnProperty","hexTable","array","i","push","toString","toUpperCase","compactQueue","queue","obj","length","item","pop","Array","prop","isArray","compacted","j","arrayToObject","source","options","plainObjects","create","merge","target","allowPrototypes","call","concat","mergeTarget","forEach","keys","reduce","acc","key","value","assign","decode","str","decodeURIComponent","replace","e","encode","string","String","out","c","charCodeAt","charAt","compact","o","refs","val","indexOf","isRegExp","isBuffer","constructor","percentTwenties","formatters","RFC1738","RFC3986","utils","require","formats","arrayPrefixGenerators","brackets","prefix","indices","repeat","toISO","Date","toISOString","defaults","delimiter","encoder","encodeValuesOnly","serializeDate","date","skipNulls","strictNullHandling","stringify","object","generateArrayPrefix","filter","sort","allowDots","formatter","values","objKeys","opts","undefined","TypeError","format","arrayFormat","joined","join","addQueryPrefix","arrayLimit","decoder","depth","parameterLimit","parseValues","cleanStr","ignoreQueryPrefix","limit","Infinity","parts","split","part","bracketEqualsPos","pos","slice","parseObject","chain","leaf","root","cleanRoot","index","parseInt","isNaN","parseArrays","parseKeys","givenKey","child","segment","exec","parent","tempObj","newObj","parse","Buffer","EventEmitter","crypto","hasOwn","isPlainObject","OPTIONS_KEYS","isAuthKey","isOptionsHash","some","stringifyRequestData","data","makeURLInterpolator","rc","cleanString","$0","outputs","$1","encodeURIComponent","getDataFromArgs","args","shift","argKeys","optionKeysInArgs","emitWarning","getOptionsFromArgs","auth","headers","arg","params","extraKeys","api_key","idempotency_key","stripe_account","stripe_version","protoExtend","sub","Super","Constructor","apply","arguments","encodeParamWithIntegerIndexes","param","arr","map","secureCompare","a","b","from","timingSafeEqual","len","result","removeEmpty","Error","checkForStream","file","callbackifyPromiseWithTimeout","promise","callback","then","res","setTimeout","err","warning","process","console","warn","_Error","raw","populate","stack","message","extend","StripeError","rawType","code","detail","requestId","statusCode","generate","rawStripeError","StripeCardError","StripeInvalidRequestError","StripeAPIError","StripeIdempotencyError","StripeAuthenticationError","StripePermissionError","StripeRateLimitError","StripeConnectionError","StripeSignatureVerificationError","OPTIONAL_REGEX","getRequestOpts","self","requestArgs","spec","overrideData","commandPath","path","requestMethod","method","urlParams","host","urlData","createUrlData","l","isOptional","createResourcePathWithSymbols","dataFromArgs","requestPath","createFullPath","validator","makeRequest","Promise","resolve","reject","_request","requestCallback","response","transformResponseData","makeAutoPaginationMethods","firstPagePromise","promiseCache","currentPromise","listPromise","iterate","listResult","done","has_more","lastId","getLastId","starting_after","asyncIteratorNext","memoizedPromise","catch","autoPagingEach","makeAutoPagingEach","autoPaginationMethods","autoPagingToArray","makeAutoPagingToArray","next","return","getAsyncIteratorSymbol","Symbol","asyncIterator","getDoneCallback","onDone","getItemCallback","onItem","lastIdx","lastItem","id","cb","ret","autoPagePromise","wrapAsyncIteratorWithCallback","items","handleIteration","iterResult","shouldContinue","stripeMethod","requestPromise","methodType","list","retrieve","update","del","setMetadata","isObject","isNull","sendMetadata","metadata","bind","getMetadata","http","https","StripeResource","_stripe","_urlData","basePath","getApiField","resourcePath","includeBasic","methodName","BASIC_METHODS","initialize","requestDataProcessor","validateRequest","pathWithSymbols","wrapTimeout","_timeoutHandler","timeout","req","timeoutErr","_isAborted","abort","_responseHandler","setEncoding","on","chunk","responseEvent","api_version","account","_requestEvent","status","request_id","elapsed","now","_requestStart","_emitter","emit","JSON","error","exception","defineProperty","enumerable","writable","_errorHandler","_defaultHeaders","contentLength","apiVersion","userAgentString","getConstant","_appInfo","getAppInfoAsString","requestData","makeRequestWithData","getClientUserAgent","cua","isInsecureConnection","request","port","agent","ciphers","requestEvent","socket","connecting","write","end","createExternalAccount","listExternalAccounts","retrieveExternalAccount","updateExternalAccount","deleteExternalAccount","createLoginLink","createPerson","listPersons","retrievePerson","updatePerson","deletePerson","refund","createRefund","listRefunds","retrieveRefund","updateRefund","listTransactions","retrieveTransaction","capture","updateDispute","closeDispute","markAsSafe","chargeId","markAsFraudulent","_legacyUpdateSubscription","_newstyleUpdateSubscription","_legacyCancelSubscription","_newstyleCancelSubscription","createSubscription","listSubscriptions","retrieveSubscription","updateSubscription","customerId","subscriptionId","cancelSubscription","createCard","listCards","retrieveCard","updateCard","deleteCard","createSource","listSources","retrieveSource","updateSource","deleteSource","verifySource","deleteDiscount","deleteSubscriptionDiscount","close","multipartDataGenerator","segno","Math","round","random","buffer","prevBuffer","newBuffer","copy","q","s","k","v","getProcessorForSourceType","isStream","streamProcessor","fn","bufferArray","line","bufferData","streamError","StreamProcessingError","errorHandler","finalizeInvoice","markUncollectible","pay","retrieveLines","retrieveUpcoming","invoiceOptions","subscription_items","sendInvoice","voidInvoice","returnOrder","cancel","confirm","approve","listSourceTransactions","verify","reverse","createReversal","listReversals","retrieveReversal","updateReversal","decline","retrieveDetails","Webhook","DEFAULT_TOLERANCE","constructEvent","payload","header","secret","tolerance","jsonPayload","signature","verifyHeader","EXPECTED_SCHEME","_computeSignature","createHmac","digest","details","parseHeader","timestamp","signatures","expectedSignature","timestampAge","floor","scheme","accum","kv","Stripe","DEFAULT_HOST","DEFAULT_PORT","DEFAULT_BASE_PATH","DEFAULT_API_VERSION","DEFAULT_TIMEOUT","createServer","PACKAGE_VERSION","USER_AGENT","bindings_version","lang","lang_version","platform","publisher","uname","USER_AGENT_SERIALIZED","APP_INFO_PROPERTIES","resourceNamespace","Account","Accounts","AccountLinks","ApplePayDomains","ApplicationFees","Balance","BitcoinReceivers","Charges","CheckoutSessions","CountrySpecs","Coupons","Customers","Disputes","EphemeralKeys","Events","ExchangeRates","Files","FileLinks","InvoiceItems","Invoices","IssuerFraudRecords","LoginLinks","OrderReturns","Orders","PaymentIntents","Payouts","Plans","Products","RecipientCards","Recipients","Refunds","Reviews","Skus","Sources","SubscriptionItems","Subscriptions","ThreeDSecure","Tokens","Topups","Transfers","UsageRecords","UsageRecordSummaries","WebhookEndpoints","ApplicationFeeRefunds","ChargeRefunds","CustomerCards","CustomerSubscriptions","Persons","TransferReversals","Issuing","Authorizations","Cardholders","Cards","Transactions","Radar","ValueLists","ValueListItems","Reporting","ReportRuns","ReportTypes","Sigma","ScheduledQueryRuns","Terminal","ConnectionTokens","Locations","Readers","configurable","writeable","off","removeListener","_api","dev","_prepResources","setApiKey","setApiVersion","errors","webhooks","FileUploads","setHost","protocol","_setApiField","setPort","setProtocol","setAppInfo","info","appInfo","setHttpAgent","getClientUserAgentSeeded","seed","userAgent","field","application","formatted"],"mappings":"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","file":"index.map","sourceRoot":"..","sourcesContent":[null,"'use strict';\n\n// ResourceNamespace allows you to create nested resources, i.e. `stripe.issuing.cards`.\n// It also works recursively, so you could do i.e. `stripe.billing.invoicing.pay`.\n\nfunction ResourceNamespace(stripe, resources) {\n  for (var name in resources) {\n    var camelCaseName = name[0].toLowerCase() + name.substring(1);\n\n    var resource = new resources[name](stripe);\n\n    this[camelCaseName] = resource;\n  }\n}\n\nmodule.exports = function(namespace, resources) {\n  return function (stripe) {\n    return new ResourceNamespace(stripe, resources);\n  };\n};\n\nmodule.exports.ResourceNamespace = ResourceNamespace;\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    var obj;\n\n    while (queue.length) {\n        var item = queue.pop();\n        obj = item.obj[item.prop];\n\n        if (Array.isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n\n    return obj;\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (typeof target === 'object') {\n            if (options.plainObjects || options.allowPrototypes || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (Array.isArray(target) && Array.isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                if (target[i] && typeof target[i] === 'object') {\n                    target[i] = merge(target[i], item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nvar encode = function encode(str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    return compactQueue(queue);\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    merge: merge\n};\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nmodule.exports = {\n    'default': 'RFC3986',\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return value;\n        }\n    },\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n    }\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(stringify(\n                obj[key],\n                generateArrayPrefix(prefix, key),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        } else {\n            values = values.concat(stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = typeof options.encoder === 'function' ? options.encoder : defaults.encoder;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n    var encodeValuesOnly = typeof options.encodeValuesOnly === 'boolean' ? options.encodeValuesOnly : defaults.encodeValuesOnly;\n    if (typeof options.format === 'undefined') {\n        options.format = formats['default'];\n    } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n        throw new TypeError('Unknown format option provided.');\n    }\n    var formatter = formats.formatters[options.format];\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encode ? encoder : null,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly\n        ));\n    }\n\n    var joined = keys.join(delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    parameterLimit: 1000,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder);\n            val = options.decoder(part.slice(pos + 1), defaults.decoder);\n        }\n        if (has.call(obj, key)) {\n            obj[key] = [].concat(obj[key]).concat(val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options) {\n    var leaf = val;\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]') {\n            obj = [];\n            obj = obj.concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.decoder !== null && options.decoder !== undefined && typeof options.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    options.ignoreQueryPrefix = options.ignoreQueryPrefix === true;\n    options.delimiter = typeof options.delimiter === 'string' || utils.isRegExp(options.delimiter) ? options.delimiter : defaults.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : defaults.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : defaults.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.decoder = typeof options.decoder === 'function' ? options.decoder : defaults.decoder;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : defaults.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : defaults.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : defaults.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : defaults.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) ||\n      objectToString.call(value) != objectTag || isHostObject(value)) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\nmodule.exports = isPlainObject;\n","'use strict';\n\nvar Buffer = require('safe-buffer').Buffer;\nvar EventEmitter = require('events').EventEmitter;\nvar qs = require('qs');\nvar crypto = require('crypto');\n\nvar hasOwn = {}.hasOwnProperty;\nvar isPlainObject = require('lodash.isplainobject');\n\nvar OPTIONS_KEYS = ['api_key', 'idempotency_key', 'stripe_account', 'stripe_version'];\n\nvar utils = module.exports = {\n\n  isAuthKey: function(key) {\n    return typeof key == 'string' && /^(?:[a-z]{2}_)?[A-z0-9]{32}$/.test(key);\n  },\n\n  isOptionsHash: function(o) {\n    return isPlainObject(o) && OPTIONS_KEYS.some(function(key) {\n      return hasOwn.call(o, key);\n    });\n  },\n\n  /**\n   * Stringifies an Object, accommodating nested objects\n   * (forming the conventional key 'parent[child]=value')\n   */\n  stringifyRequestData: function(data) {\n    return qs.stringify(data, {arrayFormat: 'brackets'});\n  },\n\n  /**\n   * Outputs a new function with interpolated object property values.\n   * Use like so:\n   *   var fn = makeURLInterpolator('some/url/{param1}/{param2}');\n   *   fn({ param1: 123, param2: 456 }); // => 'some/url/123/456'\n   */\n  makeURLInterpolator: (function() {\n    var rc = {\n      '\\n': '\\\\n', '\\\"': '\\\\\\\"',\n      '\\u2028': '\\\\u2028', '\\u2029': '\\\\u2029',\n    };\n    return function makeURLInterpolator(str) {\n      var cleanString = str.replace(/[\"\\n\\r\\u2028\\u2029]/g, function($0) {\n        return rc[$0];\n      });\n      return function(outputs) {\n        return cleanString.replace(/\\{([\\s\\S]+?)\\}/g, function($0, $1) {\n          return encodeURIComponent(outputs[$1] || '');\n        });\n      };\n    };\n  }()),\n\n  /**\n   * Return the data argument from a list of arguments\n   */\n  getDataFromArgs: function(args) {\n    if (args.length < 1 || !isPlainObject(args[0])) {\n      return {};\n    }\n\n    if (!utils.isOptionsHash(args[0])) {\n      return args.shift();\n    }\n\n    var argKeys = Object.keys(args[0]);\n\n    var optionKeysInArgs = argKeys.filter(function(key) {\n      return OPTIONS_KEYS.indexOf(key) > -1;\n    });\n\n    // In some cases options may be the provided as the first argument.\n    // Here we're detecting a case where there are two distinct arguments\n    // (the first being args and the second options) and with known\n    // option keys in the first so that we can warn the user about it.\n    if (optionKeysInArgs.length > 0 && optionKeysInArgs.length !== argKeys.length) {\n      emitWarning(\n        'Options found in arguments (' + optionKeysInArgs.join(', ') + '). Did you mean to pass an options ' +\n        'object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.'\n      );\n    }\n\n    return {};\n  },\n\n  /**\n   * Return the options hash from a list of arguments\n   */\n  getOptionsFromArgs: function(args) {\n    var opts = {\n      auth: null,\n      headers: {},\n    };\n    if (args.length > 0) {\n      var arg = args[args.length - 1];\n      if (utils.isAuthKey(arg)) {\n        opts.auth = args.pop();\n      } else if (utils.isOptionsHash(arg)) {\n        var params = args.pop();\n\n        var extraKeys = Object.keys(params).filter(function(key) {\n          return OPTIONS_KEYS.indexOf(key) == -1;\n        });\n\n        if (extraKeys.length) {\n          emitWarning('Invalid options found (' + extraKeys.join(', ') + '); ignoring.');\n        }\n\n        if (params.api_key) {\n          opts.auth = params.api_key;\n        }\n        if (params.idempotency_key) {\n          opts.headers['Idempotency-Key'] = params.idempotency_key;\n        }\n        if (params.stripe_account) {\n          opts.headers['Stripe-Account'] = params.stripe_account;\n        }\n        if (params.stripe_version) {\n          opts.headers['Stripe-Version'] = params.stripe_version;\n        }\n      }\n    }\n    return opts;\n  },\n\n  /**\n   * Provide simple \"Class\" extension mechanism\n   */\n  protoExtend: function(sub) {\n    var Super = this;\n    var Constructor = hasOwn.call(sub, 'constructor') ? sub.constructor : function() {\n      Super.apply(this, arguments);\n    };\n\n    // This initialization logic is somewhat sensitive to be compatible with\n    // divergent JS implementations like the one found in Qt. See here for more\n    // context:\n    //\n    // https://github.com/stripe/stripe-node/pull/334\n    Object.assign(Constructor, Super);\n    Constructor.prototype = Object.create(Super.prototype);\n    Object.assign(Constructor.prototype, sub);\n\n    return Constructor;\n  },\n\n  /**\n   * Encodes a particular param of data, whose value is an array, as an\n   * object with integer string attributes. Returns the entirety of data\n   * with just that param modified.\n   */\n  encodeParamWithIntegerIndexes: function(param, data) {\n    if (data[param] !== undefined) {\n      data = Object.assign({}, data);\n      data[param] = utils.arrayToObject(data[param]);\n    }\n    return data;\n  },\n\n  /**\n   * Convert an array into an object with integer string attributes\n   */\n  arrayToObject: function(arr) {\n    if (Array.isArray(arr)) {\n      var obj = {};\n      arr.map(function(item, i) {\n        obj[i.toString()] = item;\n      });\n      return obj;\n    }\n    return arr;\n  },\n\n  /**\n  * Secure compare, from https://github.com/freewil/scmp\n  */\n  secureCompare: function(a, b) {\n    a = Buffer.from(a);\n    b = Buffer.from(b);\n\n    // return early here if buffer lengths are not equal since timingSafeEqual\n    // will throw if buffer lengths are not equal\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    // use crypto.timingSafeEqual if available (since Node.js v6.6.0),\n    // otherwise use our own scmp-internal function.\n    if (crypto.timingSafeEqual) {\n      return crypto.timingSafeEqual(a, b);\n    }\n\n    var len = a.length;\n    var result = 0;\n\n    for (var i = 0; i < len; ++i) {\n      result |= a[i] ^ b[i];\n    }\n    return result === 0;\n  },\n\n  /**\n  * Remove empty values from an object\n  */\n  removeEmpty: function(obj) {\n    if (typeof obj !== 'object') {\n      throw new Error('Argument must be an object');\n    }\n\n    Object.keys(obj).forEach(function(key) {\n      if (obj[key] === null || obj[key] === undefined) {\n        delete obj[key];\n      }\n    });\n\n    return obj;\n  },\n\n  /**\n  * Determine if file data is a derivative of EventEmitter class.\n  * https://nodejs.org/api/events.html#events_events\n  */\n  checkForStream: function (obj) {\n    if (obj.file && obj.file.data) {\n      return obj.file.data instanceof EventEmitter;\n    }\n    return false;\n  },\n\n  callbackifyPromiseWithTimeout: function(promise, callback) {\n    if (callback) {\n      // Ensure callback is called outside of promise stack.\n      return promise.then(function(res) {\n        setTimeout(function() { callback(null, res) }, 0);\n      }, function(err) {\n        setTimeout(function() { callback(err, null); }, 0);\n      });\n    }\n\n    return promise;\n  },\n};\n\nfunction emitWarning(warning) {\n  if (typeof process.emitWarning !== 'function') {\n    return console.warn('Stripe: ' + warning); /* eslint-disable-line no-console */\n  }\n\n  return process.emitWarning(warning, 'Stripe');\n}\n","'use strict';\n\nvar utils = require('./utils');\n\nmodule.exports = _Error;\n\n/**\n * Generic Error klass to wrap any errors returned by stripe-node\n */\nfunction _Error(raw) {\n  this.populate.apply(this, arguments);\n  this.stack = (new Error(this.message)).stack;\n}\n\n// Extend Native Error\n_Error.prototype = Object.create(Error.prototype);\n\n_Error.prototype.type = 'GenericError';\n_Error.prototype.populate = function(type, message) {\n  this.type = type;\n  this.message = message;\n};\n\n_Error.extend = utils.protoExtend;\n\n/**\n * Create subclass of internal Error klass\n * (Specifically for errors returned from Stripe's REST API)\n */\nvar StripeError = _Error.StripeError = _Error.extend({\n  type: 'StripeError',\n  populate: function(raw) {\n    // Move from prototype def (so it appears in stringified obj)\n    this.type = this.type;\n\n    this.stack = (new Error(raw.message)).stack;\n    this.rawType = raw.type;\n    this.code = raw.code;\n    this.param = raw.param;\n    this.message = raw.message;\n    this.detail = raw.detail;\n    this.raw = raw;\n    this.headers = raw.headers;\n    this.requestId = raw.requestId;\n    this.statusCode = raw.statusCode;\n  },\n});\n\n/**\n * Helper factory which takes raw stripe errors and outputs wrapping instances\n */\nStripeError.generate = function(rawStripeError) {\n  switch (rawStripeError.type) {\n  case 'card_error':\n    return new _Error.StripeCardError(rawStripeError);\n  case 'invalid_request_error':\n    return new _Error.StripeInvalidRequestError(rawStripeError);\n  case 'api_error':\n    return new _Error.StripeAPIError(rawStripeError);\n  case 'idempotency_error':\n    return new _Error.StripeIdempotencyError(rawStripeError);\n  }\n  return new _Error('Generic', 'Unknown Error');\n};\n\n// Specific Stripe Error types:\n_Error.StripeCardError = StripeError.extend({type: 'StripeCardError'});\n_Error.StripeInvalidRequestError = StripeError.extend({type: 'StripeInvalidRequestError'});\n_Error.StripeAPIError = StripeError.extend({type: 'StripeAPIError'});\n_Error.StripeAuthenticationError = StripeError.extend({type: 'StripeAuthenticationError'});\n_Error.StripePermissionError = StripeError.extend({type: 'StripePermissionError'});\n_Error.StripeRateLimitError = StripeError.extend({type: 'StripeRateLimitError'});\n_Error.StripeConnectionError = StripeError.extend({type: 'StripeConnectionError'});\n_Error.StripeSignatureVerificationError = StripeError.extend({type: 'StripeSignatureVerificationError'});\n_Error.StripeIdempotencyError = StripeError.extend({type: 'StripeIdempotencyError'});\n","'use strict';\n\nvar utils = require('./utils');\nvar OPTIONAL_REGEX = /^optional!/;\n\nfunction getRequestOpts(self, requestArgs, spec, overrideData) {\n  // Extract spec values with defaults.\n  var commandPath = typeof spec.path == 'function' ? spec.path\n    : utils.makeURLInterpolator(spec.path || '');\n  var requestMethod = (spec.method || 'GET').toUpperCase();\n  var urlParams = spec.urlParams || [];\n  var encode = spec.encode || function(data) {return data;};\n  var host = spec.host;\n\n  // Don't mutate args externally.\n  var args = [].slice.call(requestArgs);\n\n  // Generate and validate url params.\n  var urlData = self.createUrlData();\n  for (var i = 0, l = urlParams.length; i < l; ++i) {\n    var path;\n\n    // Note that we shift the args array after every iteration so this just\n    // grabs the \"next\" argument for use as a URL parameter.\n    var arg = args[0];\n\n    var param = urlParams[i];\n\n    var isOptional = OPTIONAL_REGEX.test(param);\n    param = param.replace(OPTIONAL_REGEX, '');\n\n    if (param == 'id' && typeof arg !== 'string') {\n      path = self.createResourcePathWithSymbols(spec.path);\n      throw new Error(\n        'Stripe: \"id\" must be a string, but got: ' + typeof arg +\n        ' (on API request to `' + requestMethod + ' ' + path + '`)'\n      );\n    }\n\n    if (!arg) {\n      if (isOptional) {\n        urlData[param] = '';\n        continue;\n      }\n\n      path = self.createResourcePathWithSymbols(spec.path);\n      throw new Error(\n        'Stripe: Argument \"' + urlParams[i] + '\" required, but got: ' + arg +\n        ' (on API request to `' + requestMethod + ' ' + path + '`)'\n      );\n    }\n\n    urlData[param] = args.shift();\n  }\n\n  // Pull request data and options (headers, auth) from args.\n  var dataFromArgs = utils.getDataFromArgs(args);\n  var data = encode(Object.assign({}, dataFromArgs, overrideData));\n  var options = utils.getOptionsFromArgs(args);\n\n  // Validate that there are no more args.\n  if (args.length) {\n    path = self.createResourcePathWithSymbols(spec.path);\n    throw new Error(\n      'Stripe: Unknown arguments (' + args + '). Did you mean to pass an options ' +\n      'object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.' +\n      ' (on API request to ' + requestMethod + ' `' + path + '`)'\n    );\n  }\n\n  var requestPath = self.createFullPath(commandPath, urlData);\n  var headers = Object.assign(options.headers, spec.headers);\n\n  if (spec.validator) {\n    spec.validator(data, {headers: headers});\n  }\n\n  return {\n    requestMethod: requestMethod,\n    requestPath: requestPath,\n    data: data,\n    auth: options.auth,\n    headers: headers,\n    host: host,\n  };\n}\n\nfunction makeRequest(self, requestArgs, spec, overrideData) {\n  return new Promise(function(resolve, reject) {\n    try {\n      var opts = getRequestOpts(self, requestArgs, spec, overrideData);\n    } catch (err) {\n      reject(err);\n      return;\n    }\n\n    function requestCallback(err, response) {\n      if (err) {\n        reject(err);\n      } else {\n        resolve(\n          spec.transformResponseData ?\n            spec.transformResponseData(response) :\n            response\n        );\n      }\n    }\n\n    self._request(opts.requestMethod, opts.host, opts.requestPath, opts.data, opts.auth, {headers: opts.headers}, requestCallback);\n  });\n}\n\nmodule.exports = makeRequest;\n","'use strict';\n\nvar makeRequest = require('./makeRequest');\nvar utils = require('./utils');\n\nfunction makeAutoPaginationMethods(self, requestArgs, spec, firstPagePromise) {\n  var promiseCache = {currentPromise: null};\n  var listPromise = firstPagePromise;\n  var i = 0;\n\n  function iterate(listResult) {\n    if (!(listResult && listResult.data && typeof listResult.data.length === 'number')) {\n      throw Error('Unexpected: Stripe API response does not have a well-formed `data` array.');\n    }\n\n    if (i < listResult.data.length) {\n      var value = listResult.data[i];\n      i += 1;\n      return {value: value, done: false};\n    } else if (listResult.has_more) {\n      // Reset counter, request next page, and recurse.\n      i = 0;\n      var lastId = getLastId(listResult);\n      listPromise = makeRequest(self, requestArgs, spec, {starting_after: lastId});\n      return listPromise.then(iterate);\n    }\n    return {value: undefined, done: true};\n  }\n\n  function asyncIteratorNext() {\n    return memoizedPromise(promiseCache, function(resolve, reject) {\n      return listPromise\n        .then(iterate)\n        .then(resolve)\n        .catch(reject);\n    });\n  }\n\n  var autoPagingEach = makeAutoPagingEach(asyncIteratorNext);\n  var autoPagingToArray = makeAutoPagingToArray(autoPagingEach);\n\n  var autoPaginationMethods = {\n    autoPagingEach: autoPagingEach,\n    autoPagingToArray: autoPagingToArray,\n\n    // Async iterator functions:\n    next: asyncIteratorNext,\n    return: function() {\n      // This is required for `break`.\n      return {};\n    },\n    [getAsyncIteratorSymbol()]: function() {\n      return autoPaginationMethods;\n    }\n  };\n  return autoPaginationMethods;\n}\n\nmodule.exports.makeAutoPaginationMethods = makeAutoPaginationMethods;\n\n/**\n * ----------------\n * Private Helpers:\n * ----------------\n */\n\nfunction getAsyncIteratorSymbol() {\n  if (typeof Symbol !== 'undefined' && Symbol.asyncIterator) {\n    return Symbol.asyncIterator;\n  }\n  // Follow the convention from libraries like iterall: https://github.com/leebyron/iterall#asynciterator-1\n  return '@@asyncIterator';\n}\n\nfunction getDoneCallback(args) {\n  if (args.length < 2) {\n    return undefined;\n  }\n  var onDone = args[1];\n  if (typeof onDone !== 'function') {\n    throw Error('The second argument to autoPagingEach, if present, must be a callback function; receieved ' + typeof onDone);\n  }\n  return onDone;\n}\n\n/**\n * We allow four forms of the `onItem` callback (the middle two being equivalent),\n *\n *   1. `.autoPagingEach((item) => { doSomething(item); return false; });`\n *   2. `.autoPagingEach(async (item) => { await doSomething(item); return false; });`\n *   3. `.autoPagingEach((item) => doSomething(item).then(() => false));`\n *   4. `.autoPagingEach((item, next) => { doSomething(item); next(false); });`\n *\n * In addition to standard validation, this helper\n * coalesces the former forms into the latter form.\n */\nfunction getItemCallback(args) {\n  if (args.length === 0) {\n    return undefined;\n  }\n  var onItem = args[0];\n  if (typeof onItem !== 'function') {\n    throw Error('The first argument to autoPagingEach, if present, must be a callback function; receieved ' + typeof onItem);\n  }\n\n  // 4. `.autoPagingEach((item, next) => { doSomething(item); next(false); });`\n  if (onItem.length === 2) {\n    return onItem;\n  }\n\n  if (onItem.length > 2) {\n    throw Error('The `onItem` callback function passed to autoPagingEach must accept at most two arguments; got ' + onItem);\n  }\n\n  // This magically handles all three of these usecases (the latter two being functionally identical):\n  // 1. `.autoPagingEach((item) => { doSomething(item); return false; });`\n  // 2. `.autoPagingEach(async (item) => { await doSomething(item); return false; });`\n  // 3. `.autoPagingEach((item) => doSomething(item).then(() => false));`\n  return function _onItem(item, next) {\n    var shouldContinue = onItem(item);\n    next(shouldContinue);\n  };\n}\n\nfunction getLastId(listResult) {\n  var lastIdx = listResult.data.length - 1;\n  var lastItem = listResult.data[lastIdx];\n  var lastId = lastItem && lastItem.id;\n  if (!lastId) {\n    throw Error('Unexpected: No `id` found on the last item while auto-paging a list.');\n  }\n  return lastId;\n}\n\n/**\n * If a user calls `.next()` multiple times in parallel,\n * return the same result until something has resolved\n * to prevent page-turning race conditions.\n */\nfunction memoizedPromise(promiseCache, cb) {\n  if (promiseCache.currentPromise) {\n    return promiseCache.currentPromise;\n  }\n  promiseCache.currentPromise = new Promise(cb).then(function(ret) {\n    promiseCache.currentPromise = undefined;\n    return ret;\n  });\n  return promiseCache.currentPromise;\n}\n\nfunction makeAutoPagingEach(asyncIteratorNext) {\n  return function autoPagingEach(/* onItem?, onDone? */) {\n    var args = [].slice.call(arguments);\n    var onItem = getItemCallback(args);\n    var onDone = getDoneCallback(args);\n    if (args.length > 2) {\n      throw Error('autoPagingEach takes up to two arguments; received:', args);\n    }\n\n    var autoPagePromise = wrapAsyncIteratorWithCallback(asyncIteratorNext, onItem);\n    return utils.callbackifyPromiseWithTimeout(autoPagePromise, onDone);\n  }\n}\n\nfunction makeAutoPagingToArray(autoPagingEach) {\n  return function autoPagingToArray(opts, onDone) {\n    var limit = opts && opts.limit;\n    if (!limit) {\n      throw Error('You must pass a `limit` option to autoPagingToArray, eg; `autoPagingToArray({limit: 1000});`.');\n    }\n    if (limit > 10000) {\n      throw Error('You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.');\n    }\n    var promise = new Promise(function(resolve, reject) {\n      var items = [];\n      autoPagingEach(function(item) {\n        items.push(item);\n        if (items.length >= limit) {\n          return false;\n        }\n      }).then(function() {\n        resolve(items);\n      }).catch(reject);\n    });\n    return utils.callbackifyPromiseWithTimeout(promise, onDone);\n  }\n}\n\nfunction wrapAsyncIteratorWithCallback(asyncIteratorNext, onItem) {\n  return new Promise(function(resolve, reject) {\n    function handleIteration(iterResult) {\n      if (iterResult.done) {\n        resolve();\n        return;\n      }\n\n      var item = iterResult.value;\n      return new Promise(function(next) {\n        // Bit confusing, perhaps; we pass a `resolve` fn\n        // to the user, so they can decide when and if to continue.\n        // They can return false, or a promise which resolves to false, to break.\n        onItem(item, next);\n      }).then(function(shouldContinue) {\n        if (shouldContinue === false) {\n          return handleIteration({done: true});\n        } else {\n          return asyncIteratorNext().then(handleIteration);\n        }\n      });\n    }\n\n    asyncIteratorNext().then(handleIteration).catch(reject);\n  });\n}\n","'use strict';\n\nvar utils = require('./utils');\nvar makeRequest = require('./makeRequest');\nvar makeAutoPaginationMethods = require('./autoPagination').makeAutoPaginationMethods;\n\n/**\n * Create an API method from the declared spec.\n *\n * @param [spec.method='GET'] Request Method (POST, GET, DELETE, PUT)\n * @param [spec.path=''] Path to be appended to the API BASE_PATH, joined with\n *  the instance's path (e.g. 'charges' or 'customers')\n * @param [spec.urlParams=[]] Array of required arguments in the order that they\n *  must be passed by the consumer of the API. Subsequent optional arguments are\n *  optionally passed through a hash (Object) as the penultimate argument\n *  (preceding the also-optional callback argument\n * @param [spec.encode] Function for mutating input parameters to a method.\n *  Usefully for applying transforms to data on a per-method basis.\n * @param [spec.host] Hostname for the request.\n */\nfunction stripeMethod(spec) {\n  return function() {\n    var self = this;\n    var args = [].slice.call(arguments);\n\n    var callback = typeof args[args.length - 1] == 'function' && args.pop();\n\n    var requestPromise = utils.callbackifyPromiseWithTimeout(makeRequest(self, args, spec, {}), callback)\n\n    if (spec.methodType === 'list') {\n      var autoPaginationMethods = makeAutoPaginationMethods(self, args, spec, requestPromise);\n      Object.assign(requestPromise, autoPaginationMethods);\n    }\n\n    return requestPromise;\n  };\n}\n\nmodule.exports = stripeMethod;\n","'use strict';\n\nvar isPlainObject = require('lodash.isplainobject');\nvar stripeMethod = require('./StripeMethod');\nvar utils = require('./utils');\n\nmodule.exports = {\n\n  create: stripeMethod({\n    method: 'POST',\n  }),\n\n  list: stripeMethod({\n    method: 'GET',\n    methodType: 'list',\n  }),\n\n  retrieve: stripeMethod({\n    method: 'GET',\n    path: '/{id}',\n    urlParams: ['id'],\n  }),\n\n  update: stripeMethod({\n    method: 'POST',\n    path: '{id}',\n    urlParams: ['id'],\n  }),\n\n  // Avoid 'delete' keyword in JS\n  del: stripeMethod({\n    method: 'DELETE',\n    path: '{id}',\n    urlParams: ['id'],\n  }),\n\n  setMetadata: function(id, key, value, auth, cb) {\n    var self = this;\n    var data = key;\n    var isObject = isPlainObject(key);\n    // We assume null for an empty object\n    var isNull = data === null || (isObject && !Object.keys(data).length);\n\n    // Allow optional passing of auth & cb:\n    if ((isNull || isObject) && typeof value == 'string') {\n      auth = value;\n    } else if (typeof auth != 'string') {\n      if (!cb && typeof auth == 'function') {\n        cb = auth;\n      }\n      auth = null;\n    }\n\n    var urlData = this.createUrlData();\n    var path = this.createFullPath('/' + id, urlData);\n\n    return utils.callbackifyPromiseWithTimeout(new Promise((function(resolve, reject) {\n      if (isNull) {\n        // Reset metadata:\n        sendMetadata(null, auth);\n      } else if (!isObject) {\n        // Set individual metadata property:\n        var metadata = {};\n        metadata[key] = value;\n        sendMetadata(metadata, auth);\n      } else {\n        // Set entire metadata object after resetting it:\n        this._request('POST', null, path, {\n          metadata: null,\n        }, auth, {}, function(err, response) {\n          if (err) {\n            return reject(err);\n          }\n          sendMetadata(data, auth);\n        });\n      }\n\n      function sendMetadata(metadata, auth) {\n        self._request('POST', null, path, {\n          metadata: metadata,\n        }, auth, {}, function(err, response) {\n          if (err) {\n            reject(err);\n          } else {\n            resolve(response.metadata);\n          }\n        });\n      }\n    }).bind(this)), cb);\n  },\n\n  getMetadata: function(id, auth, cb) {\n    if (!cb && typeof auth == 'function') {\n      cb = auth;\n      auth = null;\n    }\n\n    var urlData = this.createUrlData();\n    var path = this.createFullPath('/' + id, urlData);\n\n    return utils.callbackifyPromiseWithTimeout(new Promise((function(resolve, reject) {\n      this._request('GET', null, path, {}, auth, {}, function(err, response) {\n        if (err) {\n          reject(err);\n        } else {\n          resolve(response.metadata);\n        }\n      });\n    }).bind(this)), cb);\n  },\n\n};\n","'use strict';\n\nvar http = require('http');\nvar https = require('https');\nvar path = require('path');\n\nvar utils = require('./utils');\nvar Error = require('./Error');\n\nvar hasOwn = {}.hasOwnProperty;\n\n// Provide extension mechanism for Stripe Resource Sub-Classes\nStripeResource.extend = utils.protoExtend;\n\n// Expose method-creator & prepared (basic) methods\nStripeResource.method = require('./StripeMethod');\nStripeResource.BASIC_METHODS = require('./StripeMethod.basic');\n\n/**\n * Encapsulates request logic for a Stripe Resource\n */\nfunction StripeResource(stripe, urlData) {\n  this._stripe = stripe;\n  this._urlData = urlData || {};\n\n  this.basePath = utils.makeURLInterpolator(stripe.getApiField('basePath'));\n  this.resourcePath = this.path;\n  this.path = utils.makeURLInterpolator(this.path);\n\n  if (this.includeBasic) {\n    this.includeBasic.forEach(function(methodName) {\n      this[methodName] = StripeResource.BASIC_METHODS[methodName];\n    }, this);\n  }\n\n  this.initialize.apply(this, arguments);\n}\n\nStripeResource.prototype = {\n\n  path: '',\n\n  initialize: function() {},\n\n  // Function to override the default data processor. This allows full control\n  // over how a StripeResource's request data will get converted into an HTTP\n  // body. This is useful for non-standard HTTP requests. The function should\n  // take method name, data, and headers as arguments.\n  requestDataProcessor: null,\n\n  // Function to add a validation checks before sending the request, errors should\n  // be thrown, and they will be passed to the callback/promise.\n  validateRequest: null,\n\n  createFullPath: function(commandPath, urlData) {\n    return path.join(\n      this.basePath(urlData),\n      this.path(urlData),\n      typeof commandPath == 'function' ?\n        commandPath(urlData) : commandPath\n    ).replace(/\\\\/g, '/'); // ugly workaround for Windows\n  },\n\n  // Creates a relative resource path with symbols left in (unlike\n  // createFullPath which takes some data to replace them with). For example it\n  // might produce: /invoices/{id}\n  createResourcePathWithSymbols: function(pathWithSymbols) {\n    return '/' + path.join(\n      this.resourcePath,\n      pathWithSymbols || ''\n    ).replace(/\\\\/g, '/'); // ugly workaround for Windows\n  },\n\n  createUrlData: function() {\n    var urlData = {};\n    // Merge in baseData\n    for (var i in this._urlData) {\n      if (hasOwn.call(this._urlData, i)) {\n        urlData[i] = this._urlData[i];\n      }\n    }\n    return urlData;\n  },\n\n  // DEPRECATED: Here for backcompat in case users relied on this.\n  wrapTimeout: utils.callbackifyPromiseWithTimeout,\n\n  _timeoutHandler: function(timeout, req, callback) {\n    var self = this;\n    return function() {\n      var timeoutErr = new Error('ETIMEDOUT');\n      timeoutErr.code = 'ETIMEDOUT';\n\n      req._isAborted = true;\n      req.abort();\n\n      callback.call(\n        self,\n        new Error.StripeConnectionError({\n          message: 'Request aborted due to timeout being reached (' + timeout + 'ms)',\n          detail: timeoutErr,\n        }),\n        null\n      );\n    }\n  },\n\n  _responseHandler: function(req, callback) {\n    var self = this;\n    return function(res) {\n      var response = '';\n\n      res.setEncoding('utf8');\n      res.on('data', function(chunk) {\n        response += chunk;\n      });\n      res.on('end', function() {\n        var headers = res.headers || {};\n        // NOTE: Stripe responds with lowercase header names/keys.\n\n        // For convenience, make Request-Id easily accessible on\n        // lastResponse.\n        res.requestId = headers['request-id'];\n\n        var responseEvent = utils.removeEmpty({\n          api_version: headers['stripe-version'],\n          account: headers['stripe-account'],\n          idempotency_key: headers['idempotency-key'],\n          method: req._requestEvent.method,\n          path: req._requestEvent.path,\n          status: res.statusCode,\n          request_id: res.requestId,\n          elapsed: Date.now() - req._requestStart,\n        });\n\n        self._stripe._emitter.emit('response', responseEvent);\n\n        try {\n          response = JSON.parse(response);\n\n          if (response.error) {\n            var err;\n\n            response.error.headers = headers;\n            response.error.statusCode = res.statusCode;\n            response.error.requestId = res.requestId;\n\n            if (res.statusCode === 401) {\n              err = new Error.StripeAuthenticationError(response.error);\n            } else if (res.statusCode === 403) {\n              err = new Error.StripePermissionError(response.error);\n            } else if (res.statusCode === 429) {\n              err = new Error.StripeRateLimitError(response.error);\n            } else {\n              err = Error.StripeError.generate(response.error);\n            }\n            return callback.call(self, err, null);\n          }\n        } catch (e) {\n          return callback.call(\n            self,\n            new Error.StripeAPIError({\n              message: 'Invalid JSON received from the Stripe API',\n              response: response,\n              exception: e,\n              requestId: headers['request-id'],\n            }),\n            null\n          );\n        }\n        // Expose res object\n        Object.defineProperty(response, 'lastResponse', {\n          enumerable: false,\n          writable: false,\n          value: res,\n        });\n        callback.call(self, null, response);\n      });\n    };\n  },\n\n  _errorHandler: function(req, callback) {\n    var self = this;\n    return function(error) {\n      if (req._isAborted) {\n        // already handled\n        return;\n      }\n      callback.call(\n        self,\n        new Error.StripeConnectionError({\n          message: 'An error occurred with our connection to Stripe',\n          detail: error,\n        }),\n        null\n      );\n    }\n  },\n\n  _defaultHeaders: function(auth, contentLength, apiVersion) {\n    var userAgentString = 'Stripe/v1 NodeBindings/' + this._stripe.getConstant('PACKAGE_VERSION');\n\n    if (this._stripe._appInfo) {\n      userAgentString += ' ' + this._stripe.getAppInfoAsString();\n    }\n\n    var headers = {\n      // Use specified auth token or use default from this stripe instance:\n      'Authorization': auth ?\n        'Bearer ' + auth :\n        this._stripe.getApiField('auth'),\n      'Accept': 'application/json',\n      'Content-Type': 'application/x-www-form-urlencoded',\n      'Content-Length': contentLength,\n      'User-Agent': userAgentString,\n    };\n\n    if (apiVersion) {\n      headers['Stripe-Version'] = apiVersion;\n    }\n\n    return headers;\n  },\n\n  _request: function(method, host, path, data, auth, options, callback) {\n    var self = this;\n    var requestData;\n\n    function makeRequestWithData(error, data) {\n      var apiVersion;\n      var headers;\n\n      if (error) {\n        return callback(error);\n      }\n\n      apiVersion = self._stripe.getApiField('version');\n      requestData = data;\n      headers = self._defaultHeaders(auth, requestData.length, apiVersion);\n\n      self._stripe.getClientUserAgent(function(cua) {\n        headers['X-Stripe-Client-User-Agent'] = cua;\n\n        if (options.headers) {\n          Object.assign(headers, options.headers);\n        }\n\n        makeRequest(apiVersion, headers);\n      });\n    }\n\n    if (self.requestDataProcessor) {\n      self.requestDataProcessor(method, data, options.headers, makeRequestWithData);\n    } else {\n      makeRequestWithData(null, utils.stringifyRequestData(data || {}));\n    }\n\n    function makeRequest(apiVersion, headers) {\n      var timeout = self._stripe.getApiField('timeout');\n      var isInsecureConnection = self._stripe.getApiField('protocol') == 'http';\n\n      var req = (\n        isInsecureConnection ? http : https\n      ).request({\n        host: host || self._stripe.getApiField('host'),\n        port: self._stripe.getApiField('port'),\n        path: path,\n        method: method,\n        agent: self._stripe.getApiField('agent'),\n        headers: headers,\n        ciphers: 'DEFAULT:!aNULL:!eNULL:!LOW:!EXPORT:!SSLv2:!MD5',\n      });\n\n      var requestEvent = utils.removeEmpty({\n        api_version: apiVersion,\n        account: headers['Stripe-Account'],\n        idempotency_key: headers['Idempotency-Key'],\n        method: method,\n        path: path,\n      });\n\n      req._requestEvent = requestEvent;\n\n      req._requestStart = Date.now();\n\n      self._stripe._emitter.emit('request', requestEvent);\n\n      req.setTimeout(timeout, self._timeoutHandler(timeout, req, callback));\n      req.on('response', self._responseHandler(req, callback));\n      req.on('error', self._errorHandler(req, callback));\n\n      req.on('socket', function(socket) {\n        if (socket.connecting) {\n          socket.on((isInsecureConnection ? 'connect' : 'secureConnect'), function() {\n            // Send payload; we're safe:\n            req.write(requestData);\n            req.end();\n          });\n        } else {\n          // we're already connected\n          req.write(requestData);\n          req.end();\n        }\n      });\n    }\n  },\n\n};\n\nmodule.exports = StripeResource;\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\nvar stripeMethod = StripeResource.method;\n\nmodule.exports = StripeResource.extend({\n  // Since path can either be `account` or `accounts`, support both through stripeMethod path\n\n  create: stripeMethod({\n    method: 'POST',\n    path: 'accounts',\n  }),\n\n  list: stripeMethod({\n    method: 'GET',\n    path: 'accounts',\n    methodType: 'list',\n  }),\n\n  update: stripeMethod({\n    method: 'POST',\n    path: 'accounts/{id}',\n    urlParams: ['id'],\n  }),\n\n  // Avoid 'delete' keyword in JS\n  del: stripeMethod({\n    method: 'DELETE',\n    path: 'accounts/{id}',\n    urlParams: ['id'],\n  }),\n\n  reject: stripeMethod({\n    method: 'POST',\n    path: 'accounts/{id}/reject',\n    urlParams: ['id'],\n  }),\n\n  retrieve: function(id) {\n    // No longer allow an api key to be passed as the first string to this function due to ambiguity between\n    // old account ids and api keys. To request the account for an api key, send null as the id\n    if (typeof id === 'string') {\n      return stripeMethod({\n        method: 'GET',\n        path: 'accounts/{id}',\n        urlParams: ['id'],\n      }).apply(this, arguments);\n    } else {\n      if (id === null || id === undefined) {\n        // Remove id as stripeMethod would complain of unexpected argument\n        [].shift.apply(arguments);\n      }\n      return stripeMethod({\n        method: 'GET',\n        path: 'account',\n      }).apply(this, arguments);\n    }\n  },\n\n  /**\n   * Accounts: External account methods\n   */\n\n  createExternalAccount: stripeMethod({\n    method: 'POST',\n    path: 'accounts/{accountId}/external_accounts',\n    urlParams: ['accountId'],\n  }),\n\n  listExternalAccounts: stripeMethod({\n    method: 'GET',\n    path: 'accounts/{accountId}/external_accounts',\n    urlParams: ['accountId'],\n    methodType: 'list',\n  }),\n\n  retrieveExternalAccount: stripeMethod({\n    method: 'GET',\n    path: 'accounts/{accountId}/external_accounts/{externalAccountId}',\n    urlParams: ['accountId', 'externalAccountId'],\n  }),\n\n  updateExternalAccount: stripeMethod({\n    method: 'POST',\n    path: 'accounts/{accountId}/external_accounts/{externalAccountId}',\n    urlParams: ['accountId', 'externalAccountId'],\n  }),\n\n  deleteExternalAccount: stripeMethod({\n    method: 'DELETE',\n    path: 'accounts/{accountId}/external_accounts/{externalAccountId}',\n    urlParams: ['accountId', 'externalAccountId'],\n  }),\n\n  /**\n  * Accounts: LoginLink methods\n  */\n\n  createLoginLink: stripeMethod({\n    method: 'POST',\n    path: 'accounts/{accountId}/login_links',\n    urlParams: ['accountId'],\n  }),\n\n  /**\n   * Accounts: Person methods\n   */\n\n  createPerson: stripeMethod({\n    method: 'POST',\n    path: 'accounts/{accountId}/persons',\n    urlParams: ['accountId'],\n  }),\n\n  listPersons: stripeMethod({\n    method: 'GET',\n    path: 'accounts/{accountId}/persons',\n    urlParams: ['accountId'],\n    methodType: 'list',\n  }),\n\n  retrievePerson: stripeMethod({\n    method: 'GET',\n    path: 'accounts/{accountId}/persons/{personId}',\n    urlParams: ['accountId', 'personId'],\n  }),\n\n  updatePerson: stripeMethod({\n    method: 'POST',\n    path: 'accounts/{accountId}/persons/{personId}',\n    urlParams: ['accountId', 'personId'],\n  }),\n\n  deletePerson: stripeMethod({\n    method: 'DELETE',\n    path: 'accounts/{accountId}/persons/{personId}',\n    urlParams: ['accountId', 'personId'],\n  }),\n});\n","'use strict';\n\nmodule.exports = require('../StripeResource').extend({\n  path: 'account_links',\n  includeBasic: ['create'],\n});\n\n","'use strict';\n\nmodule.exports = require('../StripeResource').extend({\n  path: 'apple_pay/domains',\n  includeBasic: ['create', 'list', 'retrieve', 'del'],\n});\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\nvar stripeMethod = StripeResource.method;\n\nmodule.exports = StripeResource.extend({\n\n  path: 'application_fees',\n\n  includeBasic: [\n    'list', 'retrieve',\n  ],\n\n  refund: stripeMethod({\n    method: 'POST',\n    path: '/{id}/refund',\n    urlParams: ['id'],\n  }),\n\n  createRefund: stripeMethod({\n    method: 'POST',\n    path: '/{feeId}/refunds',\n    urlParams: ['feeId'],\n  }),\n\n  listRefunds: stripeMethod({\n    method: 'GET',\n    path: '/{feeId}/refunds',\n    urlParams: ['feeId'],\n    methodType: 'list',\n  }),\n\n  retrieveRefund: stripeMethod({\n    method: 'GET',\n    path: '/{feeId}/refunds/{refundId}',\n    urlParams: ['feeId', 'refundId'],\n  }),\n\n  updateRefund: stripeMethod({\n    method: 'POST',\n    path: '/{feeId}/refunds/{refundId}',\n    urlParams: ['feeId', 'refundId'],\n  }),\n});\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\nvar stripeMethod = StripeResource.method;\n\nmodule.exports = StripeResource.extend({\n\n  path: 'balance',\n\n  retrieve: stripeMethod({\n    method: 'GET',\n  }),\n\n  listTransactions: stripeMethod({\n    method: 'GET',\n    path: 'history',\n    methodType: 'list',\n  }),\n\n  retrieveTransaction: stripeMethod({\n    method: 'GET',\n    path: 'history/{transactionId}',\n    urlParams: ['transactionId'],\n  }),\n\n});\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\nvar stripeMethod = StripeResource.method;\n\nmodule.exports = StripeResource.extend({\n\n  path: 'bitcoin/receivers',\n\n  includeBasic: [\n    'list', 'retrieve', 'getMetadata',\n  ],\n\n  listTransactions: stripeMethod({\n    method: 'GET',\n    path: '/{receiverId}/transactions',\n    urlParams: ['receiverId'],\n    methodType: 'list',\n  }),\n});\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\nvar stripeMethod = StripeResource.method;\n\nmodule.exports = StripeResource.extend({\n\n  path: 'charges',\n\n  includeBasic: [\n    'create', 'list', 'retrieve', 'update',\n    'setMetadata', 'getMetadata',\n  ],\n\n  capture: stripeMethod({\n    method: 'POST',\n    path: '/{id}/capture',\n    urlParams: ['id'],\n  }),\n\n  refund: stripeMethod({\n    method: 'POST',\n    path: '/{id}/refund',\n    urlParams: ['id'],\n  }),\n\n  updateDispute: stripeMethod({\n    method: 'POST',\n    path: '/{id}/dispute',\n    urlParams: ['id'],\n  }),\n\n  closeDispute: stripeMethod({\n    method: 'POST',\n    path: '/{id}/dispute/close',\n    urlParams: ['id'],\n  }),\n\n  /**\n   * Charge: Refund methods\n   * (Deprecated)\n   */\n  createRefund: stripeMethod({\n    method: 'POST',\n    path: '/{chargeId}/refunds',\n    urlParams: ['chargeId'],\n  }),\n\n  listRefunds: stripeMethod({\n    method: 'GET',\n    path: '/{chargeId}/refunds',\n    urlParams: ['chargeId'],\n    methodType: 'list',\n  }),\n\n  retrieveRefund: stripeMethod({\n    method: 'GET',\n    path: '/{chargeId}/refunds/{refundId}',\n    urlParams: ['chargeId', 'refundId'],\n  }),\n\n  updateRefund: stripeMethod({\n    method: 'POST',\n    path: '/{chargeId}/refunds/{refundId}',\n    urlParams: ['chargeId', 'refundId'],\n  }),\n\n  markAsSafe: function(chargeId) {\n    return this.update(chargeId, {'fraud_details': {'user_report': 'safe'}})\n  },\n\n  markAsFraudulent: function(chargeId) {\n    return this.update(chargeId, {'fraud_details': {'user_report': 'fraudulent'}})\n  },\n});\n","'use strict';\n\nmodule.exports = require('../StripeResource').extend({\n  path: 'checkout_sessions',\n  includeBasic: ['create'],\n});\n\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\n\nmodule.exports = StripeResource.extend({\n\n  path: 'country_specs',\n\n  includeBasic: [\n    'list', 'retrieve',\n  ],\n});\n","'use strict';\n\nmodule.exports = require('../StripeResource').extend({\n  path: 'coupons',\n  includeBasic: ['create', 'list', 'update', 'retrieve', 'del'],\n});\n\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\nvar utils = require('../utils');\nvar stripeMethod = StripeResource.method;\n\nmodule.exports = StripeResource.extend({\n\n  path: 'customers',\n  includeBasic: [\n    'create', 'list', 'retrieve', 'update', 'del',\n    'setMetadata', 'getMetadata',\n  ],\n\n  /**\n   * Customer: Subscription methods\n   */\n\n  _legacyUpdateSubscription: stripeMethod({\n    method: 'POST',\n    path: '{customerId}/subscription',\n    urlParams: ['customerId'],\n  }),\n\n  _newstyleUpdateSubscription: stripeMethod({\n    method: 'POST',\n    path: '/{customerId}/subscriptions/{subscriptionId}',\n    urlParams: ['customerId', 'subscriptionId'],\n  }),\n\n  _legacyCancelSubscription: stripeMethod({\n    method: 'DELETE',\n    path: '{customerId}/subscription',\n    urlParams: ['customerId'],\n  }),\n\n  _newstyleCancelSubscription: stripeMethod({\n    method: 'DELETE',\n    path: '/{customerId}/subscriptions/{subscriptionId}',\n    urlParams: ['customerId', 'subscriptionId'],\n  }),\n\n  createSubscription: stripeMethod({\n    method: 'POST',\n    path: '/{customerId}/subscriptions',\n    urlParams: ['customerId'],\n  }),\n\n  listSubscriptions: stripeMethod({\n    method: 'GET',\n    path: '/{customerId}/subscriptions',\n    urlParams: ['customerId'],\n    methodType: 'list',\n  }),\n\n  retrieveSubscription: stripeMethod({\n    method: 'GET',\n    path: '/{customerId}/subscriptions/{subscriptionId}',\n    urlParams: ['customerId', 'subscriptionId'],\n  }),\n\n  updateSubscription: function(customerId, subscriptionId) {\n    if (typeof subscriptionId == 'string') {\n      return this._newstyleUpdateSubscription.apply(this, arguments);\n    } else {\n      return this._legacyUpdateSubscription.apply(this, arguments);\n    }\n  },\n\n  cancelSubscription: function(customerId, subscriptionId) {\n    // This is a hack, but it lets us maximize our overloading.\n    // Precarious assumption: If it's not an auth key it _could_ be a sub id:\n    if (typeof subscriptionId == 'string' && !utils.isAuthKey(subscriptionId)) {\n      return this._newstyleCancelSubscription.apply(this, arguments);\n    } else {\n      return this._legacyCancelSubscription.apply(this, arguments);\n    }\n  },\n\n  /**\n   * Customer: Card methods\n   */\n\n  createCard: stripeMethod({\n    method: 'POST',\n    path: '/{customerId}/cards',\n    urlParams: ['customerId'],\n  }),\n\n  listCards: stripeMethod({\n    method: 'GET',\n    path: '/{customerId}/cards',\n    urlParams: ['customerId'],\n    methodType: 'list',\n  }),\n\n  retrieveCard: stripeMethod({\n    method: 'GET',\n    path: '/{customerId}/cards/{cardId}',\n    urlParams: ['customerId', 'cardId'],\n  }),\n\n  updateCard: stripeMethod({\n    method: 'POST',\n    path: '/{customerId}/cards/{cardId}',\n    urlParams: ['customerId', 'cardId'],\n  }),\n\n  deleteCard: stripeMethod({\n    method: 'DELETE',\n    path: '/{customerId}/cards/{cardId}',\n    urlParams: ['customerId', 'cardId'],\n  }),\n\n  /**\n   * Customer: Source methods\n   */\n\n  createSource: stripeMethod({\n    method: 'POST',\n    path: '/{customerId}/sources',\n    urlParams: ['customerId'],\n  }),\n\n  listSources: stripeMethod({\n    method: 'GET',\n    path: '/{customerId}/sources',\n    urlParams: ['customerId'],\n    methodType: 'list',\n  }),\n\n  retrieveSource: stripeMethod({\n    method: 'GET',\n    path: '/{customerId}/sources/{sourceId}',\n    urlParams: ['customerId', 'sourceId'],\n  }),\n\n  updateSource: stripeMethod({\n    method: 'POST',\n    path: '/{customerId}/sources/{sourceId}',\n    urlParams: ['customerId', 'sourceId'],\n  }),\n\n  deleteSource: stripeMethod({\n    method: 'DELETE',\n    path: '/{customerId}/sources/{sourceId}',\n    urlParams: ['customerId', 'sourceId'],\n  }),\n\n  verifySource: stripeMethod({\n    method: 'POST',\n    path: '/{customerId}/sources/{sourceId}/verify',\n    urlParams: ['customerId', 'sourceId'],\n  }),\n\n  /**\n   * Customer: Discount methods\n   */\n\n  deleteDiscount: stripeMethod({\n    method: 'DELETE',\n    path: '/{customerId}/discount',\n    urlParams: ['customerId'],\n  }),\n\n  deleteSubscriptionDiscount: stripeMethod({\n    method: 'DELETE',\n    path: '/{customerId}/subscriptions/{subscriptionId}/discount',\n    urlParams: ['customerId', 'subscriptionId'],\n  }),\n\n});\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\nvar stripeMethod = StripeResource.method;\n\nmodule.exports = StripeResource.extend({\n\n  path: 'disputes',\n\n  includeBasic: [\n    'list', 'retrieve', 'update', 'setMetadata', 'getMetadata',\n  ],\n\n  close: stripeMethod({\n    method: 'POST',\n    path: '/{id}/close',\n    urlParams: ['id'],\n  }),\n\n});\n\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\nvar stripeMethod = StripeResource.method;\n\nmodule.exports = StripeResource.extend({\n  create: stripeMethod({\n    method: 'POST',\n    validator: function(data, options) {\n      if (!options.headers || !options.headers['Stripe-Version']) {\n        throw new Error('stripe_version must be specified to create an ephemeral key');\n      }\n    },\n  }),\n\n  path: 'ephemeral_keys',\n\n  includeBasic: ['del'],\n});\n","'use strict';\n\nmodule.exports = require('../StripeResource').extend({\n  path: 'events',\n  includeBasic: ['list', 'retrieve'],\n});\n\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\n\nmodule.exports = StripeResource.extend({\n\n  path: 'exchange_rates',\n\n  includeBasic: [\n    'list', 'retrieve',\n  ],\n});\n","'use strict';\n\nvar Buffer = require('safe-buffer').Buffer;\n\n// Method for formatting HTTP body for the multipart/form-data specification\n// Mostly taken from Fermata.js\n// https://github.com/natevw/fermata/blob/5d9732a33d776ce925013a265935facd1626cc88/fermata.js#L315-L343\nfunction multipartDataGenerator(method, data, headers) {\n  var segno = (Math.round(Math.random() * 1e16) + Math.round(Math.random() * 1e16)).toString();\n  headers['Content-Type'] = ('multipart/form-data; boundary=' + segno);\n  var buffer = new Buffer(0);\n\n  function push(l) {\n    var prevBuffer = buffer;\n    var newBuffer = (l instanceof Buffer) ? l : new Buffer(l);\n    buffer = new Buffer(prevBuffer.length + newBuffer.length + 2);\n    prevBuffer.copy(buffer);\n    newBuffer.copy(buffer, prevBuffer.length);\n    buffer.write('\\r\\n', buffer.length - 2);\n  }\n\n  function q(s) {\n    return '\"' + s.replace(/\"|\"/g, '%22').replace(/\\r\\n|\\r|\\n/g, ' ') + '\"';\n  }\n\n  for (var k in data) {\n    var v = data[k];\n    push('--' + segno);\n    if (v.hasOwnProperty('data')) {\n      push('Content-Disposition: form-data; name=' + q(k) + '; filename=' + q(v.name || 'blob'));\n      push('Content-Type: ' + (v.type || 'application/octet-stream'));\n      push('');\n      push(v.data);\n    } else {\n      push('Content-Disposition: form-data; name=' + q(k));\n      push('');\n      push(v);\n    }\n  }\n  push('--' + segno + '--');\n\n  return buffer;\n}\n\nmodule.exports = multipartDataGenerator;\n","'use strict';\n\nvar Buffer = require('safe-buffer').Buffer;\nvar utils = require('../utils');\nvar StripeResource = require('../StripeResource');\nvar stripeMethod = StripeResource.method;\nvar multipartDataGenerator = require('../MultipartDataGenerator');\nvar Error = require('../Error');\n\nmodule.exports = StripeResource.extend({\n\n  requestDataProcessor: function(method, data, headers, callback) {\n    data = data || {};\n\n    if (method === 'POST') {\n      return getProcessorForSourceType(data);\n    } else {\n      return callback(null, utils.stringifyRequestData(data));\n    }\n\n    function getProcessorForSourceType(data) {\n      var isStream = utils.checkForStream(data);\n      if (isStream) {\n        return streamProcessor(multipartDataGenerator);\n      } else {\n        var buffer = multipartDataGenerator(method, data, headers);\n        return callback(null, buffer);\n      }\n    }\n\n    function streamProcessor (fn) {\n      var bufferArray = [];\n      data.file.data.on('data', function(line) {\n        bufferArray.push(line);\n      }).on('end', function() {\n        var bufferData = Object.assign({}, data);\n        bufferData.file.data = Buffer.concat(bufferArray);\n        var buffer = fn(method, bufferData, headers);\n        callback(null, buffer);\n      }).on('error', function(err) {\n        var errorHandler = streamError(callback);\n        errorHandler(err);\n      });\n    }\n\n    function streamError(callback) {\n      var StreamProcessingError = Error.extend({\n        type: 'StreamProcessingError',\n        populate: function(raw) {\n          this.type = this.type;\n          this.message = raw.message;\n          this.detail = raw.detail;\n        }\n      });\n      return function(error) {\n        callback(\n          new StreamProcessingError({\n            message: 'An error occurred while attempting to process the file for upload.',\n            detail: error,\n          }),\n          null\n        );\n      }\n    }\n  },\n\n  path: 'files',\n  includeBasic: ['list', 'retrieve'],\n\n  create: stripeMethod({\n    method: 'POST',\n    headers: {\n      'Content-Type': 'multipart/form-data',\n    },\n    host: 'files.stripe.com',\n  }),\n});\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\n\nmodule.exports = StripeResource.extend({\n\n  path: 'file_links',\n  includeBasic: [\n    'create', 'list', 'retrieve', 'update', 'setMetadata', 'getMetadata',\n  ],\n});\n","'use strict';\n\nmodule.exports = require('../StripeResource').extend({\n  path: 'invoiceitems',\n  includeBasic: [\n    'create', 'list', 'retrieve', 'update', 'del',\n    'setMetadata', 'getMetadata',\n  ],\n});\n\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\nvar stripeMethod = StripeResource.method;\nvar utils = require('../utils');\n\nmodule.exports = StripeResource.extend({\n\n  path: 'invoices',\n  includeBasic: ['create', 'list', 'retrieve', 'update', 'del'],\n\n  finalizeInvoice: stripeMethod({\n    method: 'POST',\n    path: '{invoiceId}/finalize',\n    urlParams: ['invoiceId'],\n  }),\n\n  markUncollectible: stripeMethod({\n    method: 'POST',\n    path: '{invoiceId}/mark_uncollectible',\n    urlParams: ['invoiceId'],\n  }),\n\n  pay: stripeMethod({\n    method: 'POST',\n    path: '{invoiceId}/pay',\n    urlParams: ['invoiceId'],\n  }),\n\n  retrieveLines: stripeMethod({\n    method: 'GET',\n    path: '{invoiceId}/lines',\n    urlParams: ['invoiceId'],\n  }),\n\n  retrieveUpcoming: stripeMethod({\n    method: 'GET',\n    path: function(urlData) {\n      var url = 'upcoming?customer=' + urlData.customerId;\n      // Legacy support where second argument is the subscription id\n      if (urlData.invoiceOptions && typeof urlData.invoiceOptions === 'string') {\n        return url + '&subscription=' + urlData.invoiceOptions;\n      } else if (urlData.invoiceOptions && typeof urlData.invoiceOptions === 'object') {\n        if (urlData.invoiceOptions.subscription_items !== undefined) {\n          urlData.invoiceOptions.subscription_items = utils.arrayToObject(urlData.invoiceOptions.subscription_items);\n        }\n        return url + '&' + utils.stringifyRequestData(urlData.invoiceOptions);\n      }\n      return url;\n    },\n    urlParams: ['customerId', 'optional!invoiceOptions'],\n    encode: utils.encodeParamWithIntegerIndexes.bind(null, 'subscription_items'),\n  }),\n\n  sendInvoice: stripeMethod({\n    method: 'POST',\n    path: '{invoiceId}/send',\n    urlParams: ['invoiceId'],\n  }),\n\n  voidInvoice: stripeMethod({\n    method: 'POST',\n    path: '{invoiceId}/void',\n    urlParams: ['invoiceId'],\n  }),\n});\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\n\nmodule.exports = StripeResource.extend({\n  path: 'issuer_fraud_records',\n\n  includeBasic: ['list', 'retrieve'],\n});\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\n\nmodule.exports = StripeResource.extend({\n  path: 'accounts/{accountId}/login_links',\n  includeBasic: ['create'],\n});\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\n\nmodule.exports = StripeResource.extend({\n\n  path: 'order_returns',\n\n  includeBasic: [\n    'list', 'retrieve',\n  ],\n});\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\nvar stripeMethod = StripeResource.method;\n\nmodule.exports = StripeResource.extend({\n\n  path: 'orders',\n\n  includeBasic: [\n    'create', 'list', 'retrieve', 'update',\n  ],\n\n  pay: stripeMethod({\n    method: 'POST',\n    path: '/{orderId}/pay',\n    urlParams: ['orderId'],\n  }),\n\n  returnOrder: stripeMethod({\n    method: 'POST',\n    path: '/{orderId}/returns',\n    urlParams: ['orderId'],\n  }),\n\n});\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\nvar stripeMethod = StripeResource.method;\n\nmodule.exports = StripeResource.extend({\n  path: 'payment_intents',\n  includeBasic: ['create', 'list', 'retrieve', 'update'],\n\n  cancel: stripeMethod({\n    method: 'POST',\n    path: '{paymentIntentId}/cancel',\n    urlParams: ['paymentIntentId'],\n  }),\n\n  capture: stripeMethod({\n    method: 'POST',\n    path: '{paymentIntentId}/capture',\n    urlParams: ['paymentIntentId'],\n  }),\n\n  confirm: stripeMethod({\n    method: 'POST',\n    path: '{paymentIntentId}/confirm',\n    urlParams: ['paymentIntentId'],\n  }),\n});\n\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\nvar stripeMethod = StripeResource.method;\n\nmodule.exports = StripeResource.extend({\n\n  path: 'payouts',\n\n  includeBasic: [\n    'create', 'list', 'retrieve', 'update',\n    'setMetadata', 'getMetadata',\n  ],\n\n  cancel: stripeMethod({\n    method: 'POST',\n    path: '{payoutId}/cancel',\n    urlParams: ['payoutId'],\n  }),\n\n  listTransactions: stripeMethod({\n    method: 'GET',\n    path: '{payoutId}/transactions',\n    urlParams: ['payoutId'],\n    methodType: 'list',\n  }),\n});\n\n","'use strict';\n\nmodule.exports = require('../StripeResource').extend({\n  path: 'plans',\n  includeBasic: ['create', 'list', 'retrieve', 'update', 'del'],\n});\n\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\n\nmodule.exports = StripeResource.extend({\n\n  path: 'products',\n\n  includeBasic: [\n    'create', 'list', 'retrieve', 'update', 'del',\n  ],\n\n});\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\n\n/**\n * RecipientCard is similar to CustomerCard in that, upon instantiation, it\n * requires a recipientId, and therefore each of its methods only\n * require the cardId argument.\n *\n * This streamlines the API specifically for the case of accessing cards\n * on a returned recipient object.\n *\n * E.g. recipientObject.cards.retrieve(cardId)\n * (As opposed to the also-supported stripe.recipients.retrieveCard(recipientId, cardId))\n */\nmodule.exports = StripeResource.extend({\n  path: 'recipients/{recipientId}/cards',\n  includeBasic: ['create', 'list', 'retrieve', 'update', 'del'],\n});\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\nvar stripeMethod = StripeResource.method;\n\nmodule.exports = StripeResource.extend({\n\n  path: 'recipients',\n  includeBasic: [\n    'create', 'list', 'retrieve', 'update', 'del',\n    'setMetadata', 'getMetadata',\n  ],\n\n  createCard: stripeMethod({\n    method: 'POST',\n    path: '/{recipientId}/cards',\n    urlParams: ['recipientId'],\n  }),\n\n  listCards: stripeMethod({\n    method: 'GET',\n    path: '/{recipientId}/cards',\n    urlParams: ['recipientId'],\n    methodType: 'list',\n  }),\n\n  retrieveCard: stripeMethod({\n    method: 'GET',\n    path: '/{recipientId}/cards/{cardId}',\n    urlParams: ['recipientId', 'cardId'],\n  }),\n\n  updateCard: stripeMethod({\n    method: 'POST',\n    path: '/{recipientId}/cards/{cardId}',\n    urlParams: ['recipientId', 'cardId'],\n  }),\n\n  deleteCard: stripeMethod({\n    method: 'DELETE',\n    path: '/{recipientId}/cards/{cardId}',\n    urlParams: ['recipientId', 'cardId'],\n  }),\n\n});\n\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\n\nmodule.exports = StripeResource.extend({\n\n  path: 'refunds',\n\n  includeBasic: [\n    'create', 'list', 'retrieve', 'update',\n  ],\n});\n\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\nvar stripeMethod = StripeResource.method;\n\nmodule.exports = StripeResource.extend({\n\n  path: 'reviews',\n\n  includeBasic: ['list', 'retrieve'],\n\n  approve: stripeMethod({\n    method: 'POST',\n    path: '/{id}/approve',\n    urlParams: ['id'],\n  }),\n});\n\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\n\nmodule.exports = StripeResource.extend({\n\n  path: 'skus',\n\n  includeBasic: [\n    'create', 'list', 'retrieve', 'update', 'del',\n  ],\n\n});\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\nvar stripeMethod = StripeResource.method;\n\nmodule.exports = StripeResource.extend({\n\n  path: 'sources',\n\n  includeBasic: [\n    'create', 'retrieve', 'update', 'setMetadata', 'getMetadata',\n  ],\n\n  listSourceTransactions: stripeMethod({\n    method: 'GET',\n    path: '/{id}/source_transactions',\n    urlParams: ['id'],\n    methodType: 'list',\n  }),\n\n  verify: stripeMethod({\n    method: 'POST',\n    path: '/{id}/verify',\n    urlParams: ['id'],\n  }),\n\n});\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\n\nmodule.exports = StripeResource.extend({\n  path: 'subscription_items',\n  includeBasic: ['create', 'list', 'retrieve', 'update', 'del',],\n});\n\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\nvar utils = require('../utils');\nvar stripeMethod = StripeResource.method;\n\nmodule.exports = StripeResource.extend({\n\n  path: 'subscriptions',\n  includeBasic: ['list', 'retrieve', 'del',],\n\n  create: stripeMethod({\n    method: 'POST',\n    encode: utils.encodeParamWithIntegerIndexes.bind(null, 'items'),\n  }),\n\n  update: stripeMethod({\n    method: 'POST',\n    path: '{id}',\n    urlParams: ['id'],\n    encode: utils.encodeParamWithIntegerIndexes.bind(null, 'items'),\n  }),\n\n  /**\n   * Subscription: Discount methods\n   */\n  deleteDiscount: stripeMethod({\n    method: 'DELETE',\n    path: '/{subscriptionId}/discount',\n    urlParams: ['subscriptionId'],\n  }),\n});\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\n\nmodule.exports = StripeResource.extend({\n\n  path: '3d_secure',\n\n  includeBasic: [\n    'create',\n    'retrieve',\n  ],\n});\n","'use strict';\n\nmodule.exports = require('../StripeResource').extend({\n  path: 'tokens',\n  includeBasic: ['create', 'retrieve'],\n});\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\nvar stripeMethod = StripeResource.method;\n\nmodule.exports = StripeResource.extend({\n  path: 'topups',\n  includeBasic: ['create', 'list', 'retrieve', 'update', 'setMetadata', 'getMetadata'],\n\n  cancel: stripeMethod({\n    method: 'POST',\n    path: '{topupId}/cancel',\n    urlParams: ['topupId'],\n  }),\n});\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\nvar stripeMethod = StripeResource.method;\n\nmodule.exports = StripeResource.extend({\n\n  path: 'transfers',\n\n  includeBasic: [\n    'create', 'list', 'retrieve', 'update',\n    'setMetadata', 'getMetadata',\n  ],\n\n  reverse: stripeMethod({\n    method: 'POST',\n    path: '/{transferId}/reversals',\n    urlParams: ['transferId'],\n  }),\n\n  cancel: stripeMethod({\n    method: 'POST',\n    path: '{transferId}/cancel',\n    urlParams: ['transferId'],\n  }),\n\n  listTransactions: stripeMethod({\n    method: 'GET',\n    path: '{transferId}/transactions',\n    urlParams: ['transferId'],\n    methodType: 'list',\n  }),\n\n  /**\n   * Transfer: Reversal methods\n   */\n  createReversal: stripeMethod({\n    method: 'POST',\n    path: '/{transferId}/reversals',\n    urlParams: ['transferId'],\n  }),\n\n  listReversals: stripeMethod({\n    method: 'GET',\n    path: '/{transferId}/reversals',\n    urlParams: ['transferId'],\n    methodType: 'list',\n  }),\n\n  retrieveReversal: stripeMethod({\n    method: 'GET',\n    path: '/{transferId}/reversals/{reversalId}',\n    urlParams: ['transferId', 'reversalId'],\n  }),\n\n  updateReversal: stripeMethod({\n    method: 'POST',\n    path: '/{transferId}/reversals/{reversalId}',\n    urlParams: ['transferId', 'reversalId'],\n  }),\n});\n\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\nvar stripeMethod = StripeResource.method;\n\nmodule.exports = StripeResource.extend({\n  path: 'subscription_items',\n\n  create: stripeMethod({\n    method: 'POST',\n    path: '{subscriptionItem}/usage_records',\n    urlParams: ['subscriptionItem'],\n  }),\n});\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\nvar stripeMethod = StripeResource.method;\n\nmodule.exports = StripeResource.extend({\n  path: 'subscription_items',\n\n  list: stripeMethod({\n    method: 'GET',\n    path: '{subscriptionItem}/usage_record_summaries',\n    urlParams: ['subscriptionItem'],\n    methodType: 'list',\n  }),\n});\n","'use strict';\n\nmodule.exports = require('../StripeResource').extend({\n  path: 'webhook_endpoints',\n  includeBasic: ['create', 'list', 'update', 'retrieve', 'del'],\n});\n\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\n\n/**\n * ApplicationFeeRefunds is a unique resource in that, upon instantiation,\n * requires an application fee id , and therefore each of its methods only\n * require the refundId argument.\n *\n * This streamlines the API specifically for the case of accessing refunds\n * on a returned application fee object.\n *\n * E.g. applicationFeeObject.refunds.retrieve(refundId)\n * (As opposed to the also-supported stripe.applicationFees.retrieveRefund(chargeId,\n * refundId))\n */\nmodule.exports = StripeResource.extend({\n  path: 'application_fees/{feeId}/refunds',\n  includeBasic: ['create', 'list', 'retrieve', 'update'],\n});\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\n\n/**\n * ChargeRefunds is a unique resource in that, upon instantiation,\n * requires a chargeId, and therefore each of its methods only\n * require the refundId argument.\n *\n * This streamlines the API specifically for the case of accessing refunds\n * on a returned charge object.\n *\n * E.g. chargeObject.refunds.retrieve(refundId)\n * (As opposed to the also-supported stripe.charges.retrieveRefund(chargeId,\n * refundId))\n */\nmodule.exports = StripeResource.extend({\n  path: 'charges/{chargeId}/refunds',\n  includeBasic: ['create', 'list', 'retrieve', 'update'],\n});\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\n\n/**\n * CustomerCard is a unique resource in that, upon instantiation,\n * requires a customerId, and therefore each of its methods only\n * require the cardId argument.\n *\n * This streamlines the API specifically for the case of accessing cards\n * on a returned customer object.\n *\n * E.g. customerObject.cards.retrieve(cardId)\n * (As opposed to the also-supported stripe.customers.retrieveCard(custId, cardId))\n */\nmodule.exports = StripeResource.extend({\n  path: 'customers/{customerId}/cards',\n  includeBasic: ['create', 'list', 'retrieve', 'update', 'del'],\n});\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\nvar stripeMethod = StripeResource.method;\n\n/**\n * CustomerSubscription is a unique resource in that, upon instantiation,\n * requires a customerId, and therefore each of its methods only\n * require the subscriptionId argument.\n *\n * This streamlines the API specifically for the case of accessing cards\n * on a returned customer object.\n *\n * E.g. customerObject.cards.retrieve(cardId)\n * (As opposed to the also-supported stripe.customers.retrieveCard(custId, cardId))\n */\nmodule.exports = StripeResource.extend({\n  path: 'customers/{customerId}/subscriptions',\n  includeBasic: ['create', 'list', 'retrieve', 'update', 'del'],\n\n  /**\n   * Customer: Discount methods\n   */\n\n  deleteDiscount: stripeMethod({\n    method: 'DELETE',\n    path: '/{subscriptionId}/discount',\n    urlParams: ['customerId', 'subscriptionId'],\n  }),\n});\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\n\n/**\n * Persons is a unique resource in that, upon instantiation,\n * requires an accountId, and therefore each of its methods only\n * require the personId argument.\n *\n * This streamlines the API specifically for the case of accessing person\n * on a returned transfer object.\n *\n * E.g. accountObject.person.retrieve(personId)\n * (As opposed to the also-supported stripe.accounts.retrievePerson(accountId,\n * personId))\n */\nmodule.exports = StripeResource.extend({\n  path: 'accounts/{accountId}/persons',\n  includeBasic: ['create', 'del', 'list', 'retrieve', 'update'],\n});\n\n","'use strict';\n\nvar StripeResource = require('../StripeResource');\n\n/**\n * TransferReversals is a unique resource in that, upon instantiation,\n * requires a transferId, and therefore each of its methods only\n * require the reversalId argument.\n *\n * This streamlines the API specifically for the case of accessing reversals\n * on a returned transfer object.\n *\n * E.g. transferObject.reversals.retrieve(reversalId)\n * (As opposed to the also-supported stripe.transfers.retrieveReversal(transferId,\n * reversalId))\n */\nmodule.exports = StripeResource.extend({\n  path: 'transfers/{transferId}/reversals',\n  includeBasic: ['create', 'list', 'retrieve', 'update'],\n});\n\n","'use strict';\n\nvar StripeResource = require('../../StripeResource');\nvar stripeMethod = StripeResource.method;\n\nmodule.exports = StripeResource.extend({\n  path: 'issuing/authorizations',\n\n  includeBasic: ['list', 'retrieve', 'update', 'setMetadata', 'getMetadata'],\n\n  approve: stripeMethod({\n    method: 'POST',\n    path: '/{id}/approve',\n    urlParams: ['id'],\n  }),\n\n  decline: stripeMethod({\n    method: 'POST',\n    path: '/{id}/decline',\n    urlParams: ['id'],\n  }),\n});\n","'use strict';\n\nvar StripeResource = require('../../StripeResource');\n\nmodule.exports = StripeResource.extend({\n  path: 'issuing/cardholders',\n  includeBasic: ['create', 'list', 'retrieve', 'update', 'setMetadata', 'getMetadata'],\n});\n","'use strict';\n\nvar StripeResource = require('../../StripeResource');\nvar stripeMethod = StripeResource.method;\n\nmodule.exports = StripeResource.extend({\n  path: 'issuing/cards',\n\n  includeBasic: ['create', 'list', 'retrieve', 'update', 'setMetadata', 'getMetadata'],\n\n  retrieveDetails: stripeMethod({\n    method: 'GET',\n    path: '/{id}/details',\n    urlParams: ['id'],\n  }),\n});\n","'use strict';\n\nvar StripeResource = require('../../StripeResource');\n\nmodule.exports = StripeResource.extend({\n  path: 'issuing/disputes',\n  includeBasic: ['create', 'list', 'retrieve', 'update', 'setMetadata', 'getMetadata'],\n});\n","'use strict';\n\nvar StripeResource = require('../../StripeResource');\n\nmodule.exports = StripeResource.extend({\n  path: 'issuing/transactions',\n  includeBasic: ['list', 'retrieve', 'update', 'setMetadata', 'getMetadata'],\n});\n","'use strict';\n\nvar StripeResource = require('../../StripeResource');\n\nmodule.exports = StripeResource.extend({\n  path: 'radar/value_lists',\n  includeBasic: ['create', 'list', 'update', 'retrieve', 'del'],\n});\n","'use strict';\n\nvar StripeResource = require('../../StripeResource');\n\nmodule.exports = StripeResource.extend({\n  path: 'radar/value_list_items',\n  includeBasic: ['create', 'list', 'retrieve', 'del'],\n});\n","'use strict';\n\nvar StripeResource = require('../../StripeResource');\n\nmodule.exports = StripeResource.extend({\n  path: 'reporting/report_runs',\n  includeBasic: ['create', 'list', 'retrieve'],\n});\n","'use strict';\n\nvar StripeResource = require('../../StripeResource');\n\nmodule.exports = StripeResource.extend({\n  path: 'reporting/report_types',\n  includeBasic: ['list', 'retrieve'],\n});\n","'use strict';\n\nvar StripeResource = require('../../StripeResource');\n\nmodule.exports = StripeResource.extend({\n  path: 'sigma/scheduled_query_runs',\n\n  includeBasic: ['list', 'retrieve'],\n});\n","'use strict';\n\nvar StripeResource = require('../../StripeResource');\n\nmodule.exports = StripeResource.extend({\n  path: 'terminal/connection_tokens',\n  includeBasic: ['create'],\n})\n","'use strict';\n\nvar StripeResource = require('../../StripeResource');\n\nmodule.exports = StripeResource.extend({\n  path: 'terminal/locations',\n  includeBasic: ['create', 'list', 'retrieve', 'update'],\n})\n","'use strict';\n\nvar StripeResource = require('../../StripeResource');\n\nmodule.exports = StripeResource.extend({\n  path: 'terminal/readers',\n  includeBasic: ['create', 'list', 'retrieve', 'update'],\n})\n","'use strict';\n\nvar Buffer = require('safe-buffer').Buffer;\nvar crypto = require('crypto');\n\nvar utils = require('./utils');\nvar Error = require('./Error');\n\nvar Webhook = {\n  DEFAULT_TOLERANCE: 300, // 5 minutes\n\n  constructEvent: function(payload, header, secret, tolerance) {\n    this.signature.verifyHeader(payload, header, secret, tolerance || Webhook.DEFAULT_TOLERANCE);\n\n    var jsonPayload = JSON.parse(payload);\n    return jsonPayload;\n  },\n};\n\nvar signature = {\n  EXPECTED_SCHEME: 'v1',\n\n  _computeSignature: function(payload, secret) {\n    return crypto.createHmac('sha256', secret)\n      .update(payload, 'utf8')\n      .digest('hex');\n  },\n\n  verifyHeader: function(payload, header, secret, tolerance) {\n    payload = Buffer.isBuffer(payload) ? payload.toString('utf8') : payload;\n    header = Buffer.isBuffer(header) ? header.toString('utf8') : header;\n\n    var details = parseHeader(header, this.EXPECTED_SCHEME);\n\n    if (!details || details.timestamp === -1) {\n      throw new Error.StripeSignatureVerificationError({\n        message: 'Unable to extract timestamp and signatures from header',\n        detail: {\n          header: header,\n          payload: payload,\n        },\n      });\n    }\n\n    if (!details.signatures.length) {\n      throw new Error.StripeSignatureVerificationError({\n        message: 'No signatures found with expected scheme',\n        detail: {\n          header: header,\n          payload: payload,\n        },\n      });\n    }\n\n    var expectedSignature = this._computeSignature(details.timestamp + '.' + payload, secret);\n\n    var signatureFound = !!details.signatures\n      .filter(utils.secureCompare.bind(utils, expectedSignature))\n      .length;\n\n    if (!signatureFound) {\n      throw new Error.StripeSignatureVerificationError({\n        message: 'No signatures found matching the expected signature for payload.' +\n          ' Are you passing the raw request body you received from Stripe?' +\n          ' https://github.com/stripe/stripe-node#webhook-signing',\n        detail: {\n          header: header,\n          payload: payload,\n        },\n      });\n    }\n\n    var timestampAge = Math.floor(Date.now() / 1000) - details.timestamp;\n\n    if (tolerance > 0 && timestampAge > tolerance) {\n      throw new Error.StripeSignatureVerificationError({\n        message: 'Timestamp outside the tolerance zone',\n        detail: {\n          header: header,\n          payload: payload,\n        },\n      });\n    }\n\n    return true;\n  },\n};\n\nfunction parseHeader(header, scheme) {\n  if (typeof header !== 'string') {\n    return null;\n  }\n\n  return header.split(',').reduce(function(accum, item) {\n    var kv = item.split('=');\n\n    if (kv[0] === 't') {\n      accum.timestamp = kv[1];\n    }\n\n    if (kv[0] === scheme) {\n      accum.signatures.push(kv[1]);\n    }\n\n    return accum;\n  }, {\n    timestamp: -1,\n    signatures: [],\n  });\n}\n\nWebhook.signature = signature;\n\nmodule.exports = Webhook;\n","'use strict';\n\nStripe.DEFAULT_HOST = 'api.stripe.com';\nStripe.DEFAULT_PORT = '443';\nStripe.DEFAULT_BASE_PATH = '/v1/';\nStripe.DEFAULT_API_VERSION = null;\n\n// Use node's default timeout:\nStripe.DEFAULT_TIMEOUT = require('http').createServer().timeout;\n\nStripe.PACKAGE_VERSION = require('../package.json').version;\n\nStripe.USER_AGENT = {\n  bindings_version: Stripe.PACKAGE_VERSION,\n  lang: 'node',\n  lang_version: process.version,\n  platform: process.platform,\n  publisher: 'stripe',\n  uname: null,\n};\n\nStripe.USER_AGENT_SERIALIZED = null;\n\nvar APP_INFO_PROPERTIES = ['name', 'version', 'url', 'partner_id'];\n\nvar EventEmitter = require('events').EventEmitter;\nvar exec = require('child_process').exec;\n\nvar resourceNamespace = require('./ResourceNamespace');\n\nvar resources = {\n  // Support Accounts for consistency, Account for backwards compat\n  Account: require('./resources/Accounts'),\n  Accounts: require('./resources/Accounts'),\n  AccountLinks: require('./resources/AccountLinks'),\n  ApplePayDomains: require('./resources/ApplePayDomains'),\n  ApplicationFees: require('./resources/ApplicationFees'),\n  Balance: require('./resources/Balance'),\n  BitcoinReceivers: require('./resources/BitcoinReceivers'),\n  Charges: require('./resources/Charges'),\n  CheckoutSessions: require('./resources/CheckoutSessions'),\n  CountrySpecs: require('./resources/CountrySpecs'),\n  Coupons: require('./resources/Coupons'),\n  Customers: require('./resources/Customers'),\n  Disputes: require('./resources/Disputes'),\n  EphemeralKeys: require('./resources/EphemeralKeys'),\n  Events: require('./resources/Events'),\n  ExchangeRates: require('./resources/ExchangeRates'),\n  Files: require('./resources/Files'),\n  FileLinks: require('./resources/FileLinks'),\n  InvoiceItems: require('./resources/InvoiceItems'),\n  Invoices: require('./resources/Invoices'),\n  IssuerFraudRecords: require('./resources/IssuerFraudRecords'),\n  LoginLinks: require('./resources/LoginLinks'),\n  OrderReturns: require('./resources/OrderReturns'),\n  Orders: require('./resources/Orders'),\n  PaymentIntents: require('./resources/PaymentIntents'),\n  Payouts: require('./resources/Payouts'),\n  Plans: require('./resources/Plans'),\n  Products: require('./resources/Products'),\n  RecipientCards: require('./resources/RecipientCards'),\n  Recipients: require('./resources/Recipients'),\n  Refunds: require('./resources/Refunds'),\n  Reviews: require('./resources/Reviews'),\n  Skus: require('./resources/SKUs'),\n  Sources: require('./resources/Sources'),\n  SubscriptionItems: require('./resources/SubscriptionItems'),\n  Subscriptions: require('./resources/Subscriptions'),\n  ThreeDSecure: require('./resources/ThreeDSecure'),\n  Tokens: require('./resources/Tokens'),\n  Topups: require('./resources/Topups'),\n  Transfers: require('./resources/Transfers'),\n  UsageRecords: require('./resources/UsageRecords'),\n  UsageRecordSummaries: require('./resources/UsageRecordSummaries'),\n  WebhookEndpoints: require('./resources/WebhookEndpoints'),\n\n  // The following rely on pre-filled IDs:\n  ApplicationFeeRefunds: require('./resources/ApplicationFeeRefunds'),\n  ChargeRefunds: require('./resources/ChargeRefunds'),\n  CustomerCards: require('./resources/CustomerCards'),\n  CustomerSubscriptions: require('./resources/CustomerSubscriptions'),\n  Persons: require('./resources/Persons'),\n  TransferReversals: require('./resources/TransferReversals'),\n\n  // Namespaced resources\n  Issuing: resourceNamespace('issuing', {\n    Authorizations: require('./resources/Issuing/Authorizations'),\n    Cardholders: require('./resources/Issuing/Cardholders'),\n    Cards: require('./resources/Issuing/Cards'),\n    Disputes: require('./resources/Issuing/Disputes'),\n    Transactions: require('./resources/Issuing/Transactions'),\n  }),\n  Radar: resourceNamespace('radar', {\n    ValueLists: require('./resources/Radar/ValueLists'),\n    ValueListItems: require('./resources/Radar/ValueListItems'),\n  }),\n  Reporting: resourceNamespace('reporting', {\n    ReportRuns: require('./resources/Reporting/ReportRuns'),\n    ReportTypes: require('./resources/Reporting/ReportTypes'),\n  }),\n  Sigma: resourceNamespace('sigma', {\n    ScheduledQueryRuns: require('./resources/Sigma/ScheduledQueryRuns'),\n  }),\n  Terminal: resourceNamespace('terminal', {\n    ConnectionTokens: require('./resources/Terminal/ConnectionTokens'),\n    Locations: require('./resources/Terminal/Locations'),\n    Readers: require('./resources/Terminal/Readers'),\n  }),\n};\n\n// For backwards compatibility, `Files` is aliased to `FileUploads`\nresources.FileUploads = resources.Files;\n\nStripe.StripeResource = require('./StripeResource');\nStripe.resources = resources;\n\nfunction Stripe(key, version) {\n  if (!(this instanceof Stripe)) {\n    return new Stripe(key, version);\n  }\n\n  Object.defineProperty(this, '_emitter', {\n    value: new EventEmitter(),\n    enumerable: false,\n    configurable: false,\n    writeable: false,\n  });\n\n  this.on = this._emitter.on.bind(this._emitter);\n  this.off = this._emitter.removeListener.bind(this._emitter);\n\n  this._api = {\n    auth: null,\n    host: Stripe.DEFAULT_HOST,\n    port: Stripe.DEFAULT_PORT,\n    basePath: Stripe.DEFAULT_BASE_PATH,\n    version: Stripe.DEFAULT_API_VERSION,\n    timeout: Stripe.DEFAULT_TIMEOUT,\n    agent: null,\n    dev: false,\n  };\n\n  this._prepResources();\n  this.setApiKey(key);\n  this.setApiVersion(version);\n\n  this.errors = require('./Error');\n  this.webhooks = require('./Webhooks');\n}\n\nStripe.errors = require('./Error');\nStripe.webhooks = require('./Webhooks');\n\nStripe.prototype = {\n\n  setHost: function(host, port, protocol) {\n    this._setApiField('host', host);\n    if (port) {\n      this.setPort(port);\n    }\n    if (protocol) {\n      this.setProtocol(protocol);\n    }\n  },\n\n  setProtocol: function(protocol) {\n    this._setApiField('protocol', protocol.toLowerCase());\n  },\n\n  setPort: function(port) {\n    this._setApiField('port', port);\n  },\n\n  setApiVersion: function(version) {\n    if (version) {\n      this._setApiField('version', version);\n    }\n  },\n\n  setApiKey: function(key) {\n    if (key) {\n      this._setApiField(\n        'auth',\n        'Bearer ' + key\n      );\n    }\n  },\n\n  setTimeout: function(timeout) {\n    this._setApiField(\n      'timeout',\n      timeout == null ? Stripe.DEFAULT_TIMEOUT : timeout\n    );\n  },\n\n  setAppInfo: function(info) {\n    if (info && typeof info !== 'object') {\n      throw new Error('AppInfo must be an object.');\n    }\n\n    if (info && !info.name) {\n      throw new Error('AppInfo.name is required');\n    }\n\n    info = info || {};\n\n    var appInfo = APP_INFO_PROPERTIES.reduce(function(accum, prop) {\n      if (typeof info[prop] == 'string') {\n        accum = accum || {};\n\n        accum[prop] = info[prop];\n      }\n\n      return accum;\n    }, undefined);\n\n    // Kill the cached UA string because it may no longer be valid\n    Stripe.USER_AGENT_SERIALIZED = undefined;\n\n    this._appInfo = appInfo;\n  },\n\n  setHttpAgent: function(agent) {\n    this._setApiField('agent', agent);\n  },\n\n  _setApiField: function(key, value) {\n    this._api[key] = value;\n  },\n\n  getApiField: function(key) {\n    return this._api[key];\n  },\n\n  getConstant: function(c) {\n    return Stripe[c];\n  },\n\n  // Gets a JSON version of a User-Agent and uses a cached version for a slight\n  // speed advantage.\n  getClientUserAgent: function(cb) {\n    if (Stripe.USER_AGENT_SERIALIZED) {\n      return cb(Stripe.USER_AGENT_SERIALIZED);\n    }\n    this.getClientUserAgentSeeded(Stripe.USER_AGENT, function(cua) {\n      Stripe.USER_AGENT_SERIALIZED = cua;\n      cb(Stripe.USER_AGENT_SERIALIZED);\n    })\n  },\n\n  // Gets a JSON version of a User-Agent by encoding a seeded object and\n  // fetching a uname from the system.\n  getClientUserAgentSeeded: function(seed, cb) {\n    var self = this;\n\n    exec('uname -a', function(err, uname) {\n      var userAgent = {};\n      for (var field in seed) {\n        userAgent[field] = encodeURIComponent(seed[field]);\n      }\n\n      // URI-encode in case there are unusual characters in the system's uname.\n      userAgent.uname = encodeURIComponent(uname) || 'UNKNOWN';\n\n      if (self._appInfo) {\n        userAgent.application = self._appInfo;\n      }\n\n      cb(JSON.stringify(userAgent));\n    });\n  },\n\n  getAppInfoAsString: function() {\n    if (!this._appInfo) {\n      return '';\n    }\n\n    var formatted = this._appInfo.name;\n\n    if (this._appInfo.version) {\n      formatted += '/' + this._appInfo.version;\n    }\n\n    if (this._appInfo.url) {\n      formatted += ' (' + this._appInfo.url + ')';\n    }\n\n    return formatted;\n  },\n\n  _prepResources: function() {\n    for (var name in resources) {\n      this[\n        name[0].toLowerCase() + name.substring(1)\n      ] = new resources[name](this);\n    }\n  },\n\n};\n\nmodule.exports = Stripe;\n// expose constructor as a named property to enable mocking with Sinon.JS\nmodule.exports.Stripe = Stripe;\n","const stripe = require('stripe')('sk_test_ukSDWNgMFuozbc28RKv1PLhQ');\n\nmodule.exports = async (req, res) => {\n    try {\n        var products = await stripe.products.list({\n            limit: 10\n        });\n        for (var product of products.data) {\n            const skus = await stripe.skus.list({\n                limit: 5\n            })\n            product.skus = skus.data;\n        }\n        const response = {\n            statusCode: 200,\n            headers: {\n                'Access-Control-Allow-Origin': '*',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                data: products.data\n            }),\n        };\n        res.writeHead(response.statusCode, response.headers);\n        res.write(response.body);\n        res.end();\n    } catch (err) {\n        const response = {\n            statusCode: 500,\n            headers: {\n                'Access-Control-Allow-Origin': '*',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                error: err.message,\n            }),\n        };\n        res.writeHead(response.statusCode, response.headers);\n        res.write(response.body);\n        res.end();\n    };\n};"]}